{"version":3,"sources":["redux/actionCreator/utils/setAuthToken.js","redux/actionCreator/UserActions.js","redux/actiontypes/index.js","components/Navbar/Navbar.js","components/Ratings/Rating.js","components/Item/Item.js","components/Loading/LoadingBox.js","redux/actionCreator/ProductActions.js","components/ErrorBox/ErrorBox.js","Screens/HomeScreen/HomeScreen.js","components/Ratings/RatingProduct.js","Screens/ProductScreen/ProductScreen.js","Screens/Cart/cartScreen.js","redux/actionCreator/CartActions.js","Screens/Signup/signup.js","Screens/Signin/signin.js","PrivateRoute.js","components/CheckoutSteps.js","Screens/Shipping/ShippingScreen.js","Screens/Payment/Payment.js","Screens/PlaceOrderScreen/PlaceorderScreen.js","redux/actionCreator/OrderActions.js","components/PaypalButton.js","Screens/OrderScreen/OrderScreen.js","Screens/ProfileScreen/ProfileScreen.js","Screens/VerifyEmailScreen/VerifyEmailScreen.js","Screens/ForgotPasswordScreen/ForgotReset.js","redux/actionCreator/PasswordReset.js","Screens/AdminScreens/OrdersScreen/OrdersScreen.js","firebase/firebase.js","Screens/AdminScreens/ProductsScreen/ProductsScreen.js","App.js","redux/reducers/ProductReducer.js","redux/reducers/cartReducer.js","redux/reducers/userReducer.js","redux/reducers/passwordReset.js","redux/reducers/rootReducer.js","redux/reducers/OrderReducer.js","index.js"],"names":["setAuthToken","token","console","log","axios","defaults","headers","common","loadUser","dispatch","localStorage","getItem","setToken","type","payload","JSON","parse","logout","history","removeItem","useStyles","makeStyles","theme","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","width","marginLeft","easeOut","enteringScreen","hide","display","drawer","flexShrink","drawerPaper","drawerHeader","alignItems","padding","spacing","justifyContent","content","flexGrow","contentShift","connect","user","loading","userInfo","error","userError_signin","props","classes","useTheme","className","clsx","open","style","marginTop","IconButton","aria-label","onClick","handleDrawerOpen","color","fontSize","to","Badge","badgeContent","name","margin","variant","window","location","reload","push","isAdmin","href","Rating","rating","numReviews","Box","component","mb","borderColor","value","readOnly","Product","product","key","_id","class","src","image","alt","lineHeight","category","brand","description","countInStocky","price","LoadingBox","getAllProducts","searchKeyword","sortOrder","a","get","response","data","message","Alert","elevation","ErrorBox","msg","alert","severity","productList","products","Allproducts","error_fetching_products","useState","setSearchKeyword","setSortOrder","match","params","id","useEffect","getdata","onSubmit","e","preventDefault","onChange","target","laoding","map","RatingProduct","productDetails","productReviewSaveReducer","productLoading","product_fetching_error","productReviewSave","getProductDetails","productId","saveProductReview","review","getState","post","reviewLoading","success","qty","setQty","setRating","comment","setComment","Math","floor","countInStock","Array","keys","x","reviews","length","createdAt","substring","size","event","newValue","htmlFor","cartItems","cart","addToCart","Axios","setItem","stringify","removeFromCart","item","removeFromCartHandler","reduce","c","parseInt","disabled","userError_register","register","email","password","setName","setEmail","setPassword","required","signin","setdata","redirect","search","split","ProtectedRoute","Comp","path","loggedIn","rest","render","CheckoutSteps","step1","step2","step3","step4","shippingAddress","saveShippingAddress","fullName","setFullName","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","placeholder","savePaymentMethod","paymentMethod","setPaymentMethod","checked","createOrder","createOrderdata","order","newOrder","itemsPrice","shippingPrice","taxPrice","totalPrice","orderItems","PaypalButton","sdkReady","setSdkReady","addPaypalSdk","result","clientID","script","document","createElement","async","onload","body","appendChild","paypal","Button","Buttons","driver","React","ReactDOM","actions","purchase_units","amount","currency_code","onApprove","capture","then","details","onSuccess","catch","err","orderDetails","orderdetails","orderPayment","detailsOrder","orderId","payOrder","paymentResult","userSignin","put","successPay","isDelivered","deliveredAt","isPaid","paidAt","userUpdate","myOrderList","listMyOrders","update","userId","loadingOrders","orders","errorOrders","VerifyEmailScreen","passwordReset","sendVerificationCode","resetPassword","setOpen","handleClose","reason","codeSent","status","passwordresetsuccess","codesentLoading","Snackbar","onClose","codeSentError","passwordResetloading","passwordResetError","orderList","orderDelete","deleteOrder","delete","listOrders","successDelete","toString","deleteHandler","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","productDelete","productSave","saveProduct","deleteProdcut","modalVisible","setModalVisible","setId","setPrice","setBrand","setCategory","setCountInStock","setDescription","uploading","setUploading","setImage","preview","setpreview","loadingSave","successSave","errorSave","loadingDelete","errorDelete","openModal","URL","createObjectURL","files","file","FormData","append","ref","on","snapShot","child","getDownloadURL","fireBaseUrl","height","useHistory","handleDrawerClose","Drawer","anchor","paper","Divider","withRouter","CartScreen","exact","ProductScreen","HomeScreen","RegisterScreen","SignInScreen","ShippingAddressScreen","PaymentMethodScreen","PlaceOrderScreen","OrderScreen","ProfileScreen","OrdersScreen","ProductsScreen","ResetPasswordScreen","initialstate","initialState","combineReducers","state","action","find","filter","shipping","payment","errror","store","createStore","reducers","composeWithDevTools","applyMiddleware","reduxThunk","getElementById"],"mappings":"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","file":"static/js/main.6c5ca74b.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst setAuthToken = (token) => {\r\n  console.log(\"token in setToken   :\"+token);  \r\n  if (token) {\r\n    axios.defaults.headers.common['x-auth-token'] = token;\r\n  } else {\r\n    delete axios.defaults.headers.common['x-auth-token'];\r\n  }\r\n};\r\n\r\n\r\nexport default setAuthToken;","import Axios from \"axios\";\r\nimport Cookie from 'js-cookie';\r\nimport setToken from \"./utils/setAuthToken\"\r\nimport { USER_SIGNIN_REQUEST, USER_SIGNIN_SUCCESS,LOAD_USER, USER_SIGNIN_FAIL, USER_LOGOUT,\r\n  USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_REGISTER_FAIL,\r\nUSER_UPDATE_FAIL,USER_UPDATE_REQUEST,USER_UPDATE_SUCCESS\r\n} from \"../actiontypes/index\";\r\n\r\n\r\n\r\nexport const loadUser=()=>(dispatch)=>{\r\n  if(localStorage.getItem(\"token\")){   \r\n  setToken((localStorage.getItem(\"token\")));\r\n // console.log(localStorage.getItem(\"userInfo\"));\r\n  dispatch({ type: LOAD_USER, payload:JSON.parse(localStorage.getItem(\"userInfo\"))});\r\n  }else{    \r\n  dispatch({ type: LOAD_USER, payload: localStorage.getItem(\"userInfo\") });\r\n  }\r\n\r\n}\r\n\r\n\r\nexport const signin = (email, password) => async (dispatch) => {\r\n  dispatch({ type: USER_SIGNIN_REQUEST, payload: { email, password } });\r\n  try {\r\n    const { data } = await Axios.post(\"/api/users/signin\", { email, password });\r\n    dispatch({ type: USER_SIGNIN_SUCCESS, payload: data });     \r\n    localStorage.setItem(\"userInfo\",JSON.stringify(data));    \r\n  console.log( localStorage.getItem(\"userInfo\"));\r\n    localStorage.setItem(\"token\",data.token);    \r\n    setToken(data.token); \r\n  } catch (error) {\r\n    console.log(error.response);\r\n    dispatch({ type: USER_SIGNIN_FAIL, payload: error.response.data.msg });\r\n  }\r\n}\r\n\r\nexport const  register = (name, email, password,history) => async (dispatch) => {\r\n  dispatch({ type: USER_REGISTER_REQUEST, payload: { name, email, password } });\r\n  try {\r\n    const { data } = await Axios.post(\"/api/users/register\", { name, email, password });\r\n\r\n    dispatch({ type: USER_REGISTER_SUCCESS, });\r\n   \r\n\r\n  //  Cookie.set('userInfo', JSON.stringify(data));\r\n  //  localStorage.setItem(\"userInfo\",data);\r\n  //  setToken(data.token); \r\n  //  localStorage.setItem(\"token\",data.token);\r\n\r\n  } catch (error) {\r\n    dispatch({ type: USER_REGISTER_FAIL, payload: error.message});\r\n  }\r\n\r\n}\r\n\r\nexport const update = ({ userId, name, email, password }) => async (dispatch, getState) => {\r\n  const { user: { userInfo } } = getState();\r\n  dispatch({ type: USER_UPDATE_REQUEST, payload: { userId, name, email, password } });\r\n  try {\r\n    const { data } = await Axios.put(\"/api/users/\" + userId,\r\n      { name, email, password }, {\r\n      headers: {\r\n        \"x-auth-token\": localStorage.getItem(\"token\") \r\n      }\r\n    });\r\n    dispatch({ type: USER_UPDATE_SUCCESS, payload: data });\r\n    localStorage.setItem('userInfo', data);\r\n  } catch (error) {\r\n    dispatch({ type: USER_UPDATE_FAIL, payload: error.message });\r\n  }\r\n\r\n}\r\n\r\n\r\nexport const logout = () => (dispatch,history) => {\r\n//  alert(\"log\")\r\n // Cookie.remove(\"userInfo\");  \r\n  localStorage.removeItem('userInfo');\r\n  localStorage.removeItem('token');  \r\n  localStorage.removeItem('shippingAddress');  \r\n//  localStorage.removeItem('cartItems');\r\n\r\n  setToken(null); \r\n  dispatch({ type: USER_LOGOUT });\r\n //history.push(\"/\")\r\n\r\n}\r\n","export const GET_ALL_PRODUCTS=\"GET_ALL_PRODUCTS\";\r\nexport const GET_ALL_PRODUCTS_SUCCESS=\"GET_ALL_PRODUCTS_SUCCESS\";\r\nexport const GET_ALL_PRODUCTS_FAIL=\"GET_ALL_PRODUCTS_FAIL\";\r\n\r\nexport const PRODUCT_DETAILS_FAIL=\"PRODUCT_DETAILS_FAIL\";\r\nexport const PRODUCT_DETAILS_REQUEST=\"PRODUCT_DETAILS_REQUEST\";\r\nexport const PRODUCT_DETAILS_SUCCESS=\"PRODUCT_DETAILS_SUCCESS\";\r\n\r\nexport const CART_ADD_ITEM = 'CART_ADD_ITEM';\r\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM'; \r\nexport const   CART_SAVE_SHIPPING_ADDRESS=\"  CART_SAVE_SHIPPING_ADDRESS\";\r\nexport const  CART_SAVE_PAYMENT_METHOD=\" CART_SAVE_PAYMENT_METHOD,\"\r\n\r\nexport const USER_SIGNIN_REQUEST = 'USER_SIGNIN_REQUEST';\r\nexport const USER_SIGNIN_SUCCESS = 'USER_SIGNIN_SUCCESS';\r\nexport const USER_SIGNIN_FAIL = 'USER_SIGNIN_FAIL';\r\n\r\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST';\r\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS';\r\nexport const USER_REGISTER_FAIL = 'USER_REGISTER_FAIL';\r\n\r\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST';\r\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS';\r\nexport const USER_UPDATE_FAIL = 'USER_UPDATE_FAIL';\r\n\r\n\r\nexport const USER_LOGOUT = 'USER_LOGOUT';\r\nexport const LOAD_USER = 'LOAD_USER';\r\n\r\nexport const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST';\r\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS';\r\nexport const ORDER_CREATE_FAIL = 'ORDER_CREATE_FAIL';\r\n\r\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST';\r\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS';\r\nexport const ORDER_DETAILS_FAIL = 'ORDER_DETAILS_FAIL';\r\n\r\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST';\r\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS';\r\nexport const ORDER_PAY_FAIL = 'ORDER_PAY_FAIL'; \r\n\r\n\r\nexport const MY_ORDER_LIST_REQUEST = 'MY_ORDER_LIST_REQUEST';\r\nexport const MY_ORDER_LIST_SUCCESS = 'MY_ORDER_LIST_SUCCESS';\r\nexport const MY_ORDER_LIST_FAIL = 'MY_ORDER_LIST_FAIL';\r\n\r\nexport const PRODUCT_REVIEW_SAVE_REQUEST = 'PRODUCT_REVIEW_SAVE_REQUEST';\r\nexport const PRODUCT_REVIEW_SAVE_SUCCESS = 'PRODUCT_REVIEW_SAVE_SUCCESS';\r\nexport const PRODUCT_REVIEW_SAVE_FAIL = 'PRODUCT_REVIEW_SAVE_FAIL';\r\nexport const PRODUCT_REVIEW_SAVE_RESET = 'PRODUCT_REVIEW_SAVE_RESET';\r\n\r\n//password Reset\r\nexport const SEND_PASSWORD_RESET_CODE_REQUEST = 'SEND_PASSWORD_RESET_CODE_REQUEST';\r\nexport const SEND_PASSWORD_RESET_CODE_SUCCESS = 'SEND_PASSWORD_RESET_CODE_SUCCESS';\r\nexport const SEND_PASSWORD_RESET_CODE_FAIL = 'SEND_PASSWORD_RESET_CODE_SUCCESS_FAIL';\r\n\r\nexport const PASSWORD_RESET_REQUEST = 'PASSWORD_RESET_REQUEST';\r\nexport const PASSWORD_RESET_FAIL = 'PASSWORD_RESET_FAIL';\r\nexport const PASSWORD_RESET_SUCCESS= 'PASSWORD_RESET_SUCCESS';\r\n\r\n\r\n//admin\r\nexport const PRODUCT_SAVE_REQUEST = 'PRODUCT_SAVE_REQUEST';\r\nexport const PRODUCT_SAVE_SUCCESS = 'PRODUCT_SAVE_SUCCESS';\r\nexport const PRODUCT_SAVE_FAIL = 'PRODUCT_SAVE_FAIL';\r\n\r\nexport const PRODUCT_DELETE_REQUEST = 'PRODUCT_DELETE_REQUEST';\r\nexport const PRODUCT_DELETE_SUCCESS = 'PRODUCT_DELETE_SUCCESS';\r\nexport const PRODUCT_DELETE_FAIL = 'PRODUCT_DELETE_FAIL'\r\n\r\nexport const ORDER_LIST_REQUEST = 'ORDER_LIST_REQUEST';\r\nexport const ORDER_LIST_SUCCESS = 'ORDER_LIST_SUCCESS';\r\nexport const ORDER_LIST_FAIL = 'ORDER_LIST_FAIL';\r\n\r\nexport const ORDER_DELETE_REQUEST = 'ORDER_DELETE_REQUEST';\r\nexport const ORDER_DELETE_SUCCESS = 'ORDER_DELETE_SUCCESS';\r\nexport const ORDER_DELETE_FAIL = 'ORDER_DELETE_FAIL';\r\n","import React from 'react'\r\nimport clsx from 'clsx';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport { BrowserRouter, Route,Link,withRouter,useHistory} from 'react-router-dom';\r\nimport \"./Navbar.css\"\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport {connect  } from \"react-redux\";\r\n\r\nimport Drawer from '@material-ui/core/Drawer';\r\n//icons\r\n\r\nimport Badge from '@material-ui/core/Badge';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\n\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { loadUser,logout} from \"../../redux/actionCreator/UserActions\";\r\n\r\nconst drawerWidth = 240;\r\nconst useStyles = makeStyles((theme) => ({\r\n    appBar: {\r\n      transition: theme.transitions.create(['margin', 'width'], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n    },\r\n    appBarShift: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      marginLeft: drawerWidth,\r\n      transition: theme.transitions.create(['margin', 'width'], {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n    },\r\n    \r\n     hide: {\r\n      display: 'none',\r\n    },\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n    },\r\n    drawerHeader: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      padding: theme.spacing(0, 1),\r\n      justifyContent: 'flex-end',\r\n    },\r\n    \r\n    content: {\r\n      flexGrow: 1,\r\n      padding: theme.spacing(0),\r\n      transition: theme.transitions.create('margin', {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n      marginLeft: 0,\r\n    },\r\n    contentShift: {\r\n      transition: theme.transitions.create('margin', {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n      marginLeft: drawerWidth,\r\n    },\r\n  \r\n  }));\r\nfunction Navbar(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const userInfo=props.userInfo;\r\n    return (\r\n        <div>\r\n             <header className=\"row\"\r\n          className=\r\n          {clsx(classes.appBar, {\r\n          [classes.appBarShift]: props.open,\r\n        })}>   \r\n          <div   style={{display: \"flex\", justifyContent: \" space-between\",}}>\r\n          <div style={{marginTop:\"5px\"}}>\r\n        <IconButton\r\n            aria-label=\"open drawer\"\r\n            onClick={props.handleDrawerOpen}\r\n            style={{color:\"white\",}}\r\n          >\r\n            <MenuIcon style={{fontSize:\"20px\"}}/>\r\n          </IconButton>\r\n            <Link className=\"brand\" to=\"/\">\r\n              Amazon\r\n            </Link>\r\n            </div>  \r\n            <div className=\"header-links\">\r\n            <div style={{marginTop:\"15px\"}}>\r\n\r\n            <Link to=\"/cart\">\r\n                    <Badge badgeContent={4} color=\"primary\">\r\n                <ShoppingCartIcon style={{fontSize:30}}/>\r\n            </Badge>\r\n            </Link>\r\n            {\r\n              userInfo ? <Link to=\"/profile\">{userInfo.name}</Link> :\r\n                <Link to=\"/signin\">Sign In</Link>\r\n            }             \r\n\r\n            {props.userInfo&&<Button style={{margin:\"0 20px \"}} variant=\"contained\" onClick={()=>{\r\n               props.logout();\r\n               window.location.reload(false);\r\n               props.history.push(\"/\")\r\n              \r\n              }}>Logout</Button>}  \r\n               \r\n\r\n            {userInfo && userInfo.isAdmin && (\r\n              <div className=\"dropdown\">\r\n                <a href=\"#\"  >Admin</a>\r\n                <ul className=\"dropdown-content\">\r\n                  <li>\r\n                    <Link to=\"/admin/orders\">Orders</Link>\r\n                    <Link to=\"/admin/products\">Products</Link>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            )}     \r\n              </div>         \r\n           \r\n          </div>\r\n          \r\n            </div>    \r\n        \r\n        </header>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps=({user})=>{\r\n    return {\r\n        loading:user.loading,\r\n        userInfo:user.userInfo,\r\n        error:user.userError_signin\r\n    }\r\n  }\r\n  \r\n  export default connect(mapStateToProps,{loadUser,logout})(Navbar);\r\n\r\n","import React from 'react';\r\n\r\nimport Rate from '@material-ui/lab/Rating';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nexport default function Rating(props) {\r\n  const { rating, numReviews } = props;\r\n  //console.log(rating);\r\n\r\n  return (\r\n    <div className=\"\">\r\n     <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">        \r\n     <Rate name=\"read-only\" value={rating} readOnly /><br/>\r\n      <span>{numReviews + ' reviews'}</span>\r\n      </Box>\r\n       \r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport Rating from '../Ratings/Rating';\r\nimport \"./Item.css\"\r\nimport { withRouter } from 'react-router-dom';\r\n\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport { PRODUCT_DETAILS_FAIL } from '../../redux/actiontypes';\r\n\r\n function Product(props) {\r\n  \r\n  const { product } = props;\r\n  return (\r\n    <div key={product._id} class=\"card\">\r\n      <Link to={`/product/${product._id}`}>\r\n        <img className=\"medium\" src={product.image} alt={product.name} />\r\n      </Link>\r\n      <div class=\"card-body\">\r\n        <Link to={`/product/${product._id}`}>\r\n          <h2>{product.name}</h2>\r\n        </Link>\r\n        <div style={{lineHeight:\"0px\"}}>\r\n        <h6>{product.category}</h6>\r\n        <h5>{product.brand}</h5>\r\n        <h6>{product.description}</h6>\r\n        <h4>{product.countInStocky}</h4>       \r\n        <div className=\"price\">${product.price}</div>\r\n        </div>\r\n        <Rating\r\n          rating={product.rating}\r\n          numReviews={product.numReviews}\r\n        ></Rating>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;","import React from 'react'\r\nimport \"./Loading.css\"\r\n\r\nfunction LoadingBox() {\r\n  //  alert(\"laoding\")\r\n    return (\r\n        <div class=\"sk-circle\">\r\n        <div class=\"sk-circle1 sk-child\"></div>\r\n        <div class=\"sk-circle2 sk-child\"></div>\r\n        <div class=\"sk-circle3 sk-child\"></div>\r\n        <div class=\"sk-circle4 sk-child\"></div>\r\n        <div class=\"sk-circle5 sk-child\"></div>\r\n        <div class=\"sk-circle6 sk-child\"></div>\r\n        <div class=\"sk-circle7 sk-child\"></div>\r\n        <div class=\"sk-circle8 sk-child\"></div>\r\n        <div class=\"sk-circle9 sk-child\"></div>\r\n        <div class=\"sk-circle10 sk-child\"></div>\r\n        <div class=\"sk-circle11 sk-child\"></div>\r\n        <div class=\"sk-circle12 sk-child\"></div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default LoadingBox\r\n","import {GET_ALL_PRODUCTS,GET_ALL_PRODUCTS_FAIL,\r\n  GET_ALL_PRODUCTS_SUCCESS,PRODUCT_DETAILS_FAIL,PRODUCT_DETAILS_REQUEST,\r\n  PRODUCT_DETAILS_SUCCESS,PRODUCT_DELETE_FAIL,PRODUCT_DELETE_REQUEST,PRODUCT_DELETE_SUCCESS,\r\n  PRODUCT_SAVE_FAIL,PRODUCT_SAVE_REQUEST,PRODUCT_SAVE_SUCCESS,\r\n  PRODUCT_REVIEW_SAVE_FAIL,PRODUCT_REVIEW_SAVE_REQUEST,PRODUCT_REVIEW_SAVE_RESET,PRODUCT_REVIEW_SAVE_SUCCESS\r\n\r\n} from \"../actiontypes\"\r\nimport axios from \"axios\"\r\n\r\n\r\n\r\nexport const getAllProducts=(category = '', searchKeyword = '', sortOrder = '')=>async (dispatch)=>{\r\n  //request starts loading\r\n\r\n  dispatch({\r\n      type:GET_ALL_PRODUCTS\r\n  })\r\n  //\r\n  try { \r\n    const response= await axios.get(\"/api/products?category=\" + category +\r\n      \"&searchKeyword=\" + searchKeyword + \"&sortOrder=\" + sortOrder);\r\n      console.log(response);\r\n      dispatch({\r\n        type:GET_ALL_PRODUCTS_SUCCESS,\r\n        payload:response.data\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n        type:GET_ALL_PRODUCTS_FAIL,\r\n        payload:error.message\r\n    })\r\n  }\r\n\r\n}\r\nexport const getProductDetails = (productId) => async (dispatch) => {\r\n  dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\r\n  try {\r\n    const response = await axios.get(`/api/products/${productId}`);\r\n    console.log(response);\r\n\r\n    dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: response.data });\r\n    \r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_DETAILS_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\n//review\r\nexport const saveProductReview = (productId, review) => async (dispatch, getState) => {\r\n  try {\r\n\r\n    dispatch({ type: PRODUCT_REVIEW_SAVE_REQUEST, payload: review });\r\n    const { data } = await axios.post(\r\n      `/api/products/${productId}/reviews`,\r\n      review,\r\n      {\r\n        headers:  {  \"x-auth-token\": localStorage.getItem(\"token\") }\r\n      }\r\n    );\r\n    dispatch({ type: PRODUCT_REVIEW_SAVE_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    // report error\r\n    dispatch({ type: PRODUCT_REVIEW_SAVE_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\n//ADMIN PRIVILEDGES\r\n//UPDATE PRODUCT\r\nexport const saveProduct = (product) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_SAVE_REQUEST, payload: product });\r\n    if (!product._id) {\r\n      const { data } = await axios.post('/api/products', product);\r\n      dispatch({ type: PRODUCT_SAVE_SUCCESS, payload: data });\r\n    } else {\r\n      const { data } = await axios.put('/api/products/' + product._id, product);\r\n      dispatch({ type: PRODUCT_SAVE_SUCCESS, payload: data });\r\n    }\r\n\r\n  } catch (error) {\r\n\r\n    dispatch({ type: PRODUCT_SAVE_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\n//DELETE PRODUCT\r\nexport const deleteProdcut = (productId) => async (dispatch, getState) => {\r\n  try {\r\n   \r\n    dispatch({ type: PRODUCT_DELETE_REQUEST, payload: productId });\r\n    const { data } = await axios.delete(\"/api/products/\" + productId);\r\n    dispatch({ type: PRODUCT_DELETE_SUCCESS, payload: data, success: true });\r\n  } catch (error) {\r\n    dispatch({ type: PRODUCT_DELETE_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\n","import React from 'react'\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\nfunction ErrorBox({msg,type}) {\r\n  alert(\"er\")\r\n    return (\r\n        <div>\r\n      {type && <Alert severity=\"error\">{msg}</Alert> }\r\n      {!type && <Alert severity=\"success\">{msg}</Alert> }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ErrorBox\r\n","import React,{useEffect,useState}from 'react';\r\nimport Product from '../../components/Item/Item';\r\nimport { connect } from 'react-redux';\r\nimport Loading from \"../../components/Loading/LoadingBox\";\r\nimport {getAllProducts} from \"../../redux/actionCreator/ProductActions\"\r\nimport { get } from 'lodash';\r\nimport MessageBox from \"../../components/ErrorBox/ErrorBox\"\r\nimport \"./HomeScreen.css\"\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n function HomeScreen(props) {\r\n  const [searchKeyword, setSearchKeyword] = useState('');\r\n  const [sortOrder, setSortOrder] = useState('');\r\n  const category = props.match.params.id ? props.match.params.id : '';\r\n  \r\n  useEffect(() => {  \r\n    async function getdata(){\r\n        props.getAllProducts(category);\r\n    }\r\n    getdata()\r\n   \r\n  }, [category])\r\n  \r\n  useEffect(() => {  \r\n    props.getAllProducts(category, searchKeyword, sortOrder)\r\n   \r\n  }, [sortOrder])\r\n  \r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n   props.getAllProducts(category, searchKeyword, sortOrder)\r\n  }\r\n  const sortHandler = (e) => {\r\n    setSortOrder(e.target.value);\r\n   \r\n  }\r\n\r\n  return (\r\n    <div>\r\n    {category &&\r\n    <div>\r\n    <div className=\"back-to-result\">\r\n        <Link to=\"/\">Back to result</Link>\r\n      </div>\r\n      <h2>{category}</h2>\r\n      </div>\r\n      }    \r\n\r\n   { !category && <ul className=\"filter\">\r\n      <li>\r\n        <form onSubmit={submitHandler}>\r\n          <input name=\"searchKeyword\" onChange={(e) => setSearchKeyword(e.target.value)} />\r\n          <button type=\"submit\">Search</button>\r\n        </form>\r\n      </li>\r\n      <li>\r\n        Sort By {' '}\r\n        <select name=\"sortOrder\" onChange={sortHandler}>\r\n          <option value=\"\">Newest</option>\r\n          <option value=\"lowest\">Lowest</option>\r\n          <option value=\"highest\">Highest</option>\r\n        </select>\r\n      </li>\r\n    </ul>}\r\n    {props.loading && <Loading></Loading>}\r\n    {props.error && <MessageBox msg={props.error} type=\"1\"></MessageBox>}\r\n    {!props.laoding &&\r\n     <div className=\"row center\">\r\n        { props.products&& props.products.map((product) => (\r\n          <Product key={product._id} product={product}></Product>\r\n        ))}\r\n      </div>\r\n   }\r\n   </div>\r\n  );\r\n}\r\nconst MapStateToProps=({productList})=>{\r\n  return {\r\n  products:productList.Allproducts,\r\n  error:productList.error_fetching_products,\r\n  loading:productList.loading\r\n   }\r\n  \r\n}\r\nexport default connect(MapStateToProps,{getAllProducts})(HomeScreen);","import React from 'react';\r\n\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nexport default function RatingProduct(props) {\r\n  const { rating,  } = props;\r\n  console.log(rating);\r\n  return (\r\n    <>\r\n     <Box  borderColor=\"transparent\">        \r\n        <Rating name=\"read-only\" value={rating} readOnly /><br/>\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Rating1 from '../../components/Ratings/RatingProduct';\r\nimport RatingProduct from '../../components/Ratings/RatingProduct';\r\nimport { getProductDetails,saveProductReview} from \"../../redux/actionCreator/ProductActions\";\r\nimport {connect  } from \"react-redux\";\r\n\r\n\r\nimport Loading from \"../../components/Loading/LoadingBox\";\r\nimport MessageBox from \"../../components/ErrorBox/ErrorBox\"\r\n\r\nimport \"./ProductScreen.css\"\r\n\r\nimport Rating  from '@material-ui/lab/Rating';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\n\r\n function ProductScreen(props) {\r\n\r\n  \r\n  const {loading:{reviewLoading},success} =props.productReviewSave\r\n  useEffect(() => {\r\n   //alert(props.match.params.id);\r\n   async function getdata(){\r\n       props.getProductDetails(props.match.params.id);\r\n   }\r\n   getdata();\r\n  }, [success])\r\n  \r\nconst [qty, setQty] = useState(1);\r\nconst [rating, setRating] = useState(0);\r\n  const [comment, setComment] = useState('');\r\n  const { userInfo } = props.user;\r\n\r\n\r\nconst submitHandler = (e) => {\r\n  e.preventDefault();\r\n  // dispatch actions\r\n props.saveProductReview(props.match.params.id, {\r\n      name: userInfo.name,\r\n      rating: rating,\r\n      comment: comment,\r\n    })\r\n    setRating(0);\r\n    setComment('')\r\n\r\n};\r\n  const {product,productLoading,product_fetching_error} =props;\r\n\r\n  if (!product && !productLoading) {\r\n    return <div> Product Not Found</div>;\r\n  }\r\n     return  (\r\n    <div>\r\n    {productLoading && <Loading></Loading>}\r\n    {reviewLoading && <Loading></Loading>}\r\n    {product_fetching_error && <MessageBox msg={props.error} type=\"1\"></MessageBox>}\r\n    {!productLoading &&\r\n    <div>\r\n     <div className=\"back-to-result\">\r\n        <Link to=\"/\">Back to result</Link>\r\n      </div>\r\n      <div className=\"details\">\r\n        <div className=\"details-image\">\r\n          <img className=\"pro_image\" src={product.image} alt={product.name}></img>\r\n        </div>\r\n            <div className=\"details-info\">\r\n              <ul>\r\n                <li>\r\n                  <h4>{product.name}</h4>\r\n                </li>\r\n                <li>\r\n              <Rating1\r\n                rating={Math.floor(product.rating)}\r\n                numReviews={product.numReviews}\r\n              ></Rating1>\r\n            </li>\r\n                <li>\r\n                  Price: <b>${product.price}</b>\r\n                </li>\r\n                <li>\r\n                  Description:\r\n                  <div>{product.description}</div>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"details-action\">\r\n              <ul>\r\n                <li>Price: {product.price}</li>\r\n                <li>\r\n                  Status:{' '}\r\n                  {product.countInStock > 0 ? 'In Stock' : 'Unavailable.'}\r\n                </li>\r\n                <li>\r\n                  Qty:{' '}\r\n                  <select\r\n                    value={qty}\r\n                    onChange={(e) => {\r\n                      setQty(e.target.value);\r\n                    }}\r\n                  >\r\n                    {[...Array(product.countInStock).keys()].map((x) => (\r\n                      <option key={x + 1} value={x + 1}>\r\n                        {x + 1}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </li>\r\n                <li>\r\n                  {product.countInStock > 0 && (\r\n                    <Link to={`/cart/${product._id}/${qty}`}>\r\n                    <button\r\n                      className=\"button primary\"\r\n                    >\r\n                      Add to Cart\r\n                    </button>\r\n                    </Link>\r\n                  )}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n      </div>\r\n      <div className=\"content-margined\">\r\n            <h2>Reviews</h2>\r\n            {!product && !product.reviews &&!product.reviews.length && <div>There is no review</div>}\r\n            <ul className=\"review\" id=\"reviews\">\r\n        \r\n              {product && product.reviews && product.reviews.map((review) => (\r\n                \r\n                <li key={review._id}>\r\n                  <div>{review.name}</div>\r\n                  \r\n                    <RatingProduct rating={review.rating}></RatingProduct>\r\n                  \r\n                  <div>{review.createdAt.substring(0, 10)}</div>\r\n                  <div>{review.comment}</div>\r\n                </li>\r\n                \r\n              ))}\r\n              \r\n              {product && product.reviews && product.reviews.map((review) => (\r\n                \r\n                console.log(review.rating) \r\n              ))}\r\n              <li>\r\n                <h3>Write a customer review</h3>\r\n                {userInfo ? (\r\n                  <form onSubmit={submitHandler}>\r\n                    <ul className=\"form-container\">\r\n                      <li>\r\n                       <Box  borderColor=\"transparent\">\r\n                    <Rating\r\n                      name=\"simple-controlled\"\r\n                      value={rating}\r\n                      size=\"large\"\r\n                      onChange={(event, newValue) => {\r\n                        setRating(newValue);                       \r\n                      }}\r\n                    /></Box>\r\n                      </li>\r\n                      <li>\r\n                        <label htmlFor=\"comment\">Comment</label>\r\n                        <textarea\r\n                          name=\"comment\"\r\n                          value={comment}\r\n                          onChange={(e) => setComment(e.target.value)}\r\n                        ></textarea>\r\n                      </li>\r\n                      <li>\r\n                        <button type=\"submit\" className=\"button primary\">\r\n                          Submit\r\n                        </button>\r\n                      </li>\r\n                    </ul>\r\n                  </form>\r\n                ) : (\r\n                  <div>\r\n                    Please <Link to=\"/signin\">Sign-in</Link> to write a review.\r\n                  </div>\r\n                )}\r\n              </li>\r\n            </ul>\r\n          </div> \r\n          </div>}\r\n    </div>\r\n    \r\n  );\r\n}\r\nconst mapStateToProps=({productDetails,user,productReviewSaveReducer})=>{\r\n   return {product:productDetails.product,\r\n  productLoading:productDetails.loading,\r\n  product_fetching_error:productDetails.error,\r\n  user:user,\r\n  productReviewSave:productReviewSaveReducer\r\n}\r\n\r\n}\r\nexport default (connect(mapStateToProps,{getProductDetails,saveProductReview})(ProductScreen))","import React, { useEffect } from 'react';\r\nimport { addToCart, removeFromCart } from '../../redux/actionCreator/CartActions';\r\nimport {connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport \"./Cartscreen.css\"\r\n\r\nfunction CartScreen(props) {\r\n  const {cartItems}=props\r\n\r\n  const productId = props.match.params.id;\r\n  const qty= props.match.params.qty;\r\n  \r\n  const removeFromCartHandler = (productId) => {\r\n   props.removeFromCart(productId);\r\n  }\r\n  useEffect(() => {\r\n    if (productId) {\r\n     props.addToCart(productId, qty);\r\n    }\r\n  }, []);\r\n\r\n  const checkoutHandler = () => {    \r\n    props.history.push(\"/signin?redirect=shipping\");\r\n  }\r\n\r\n  return <div className=\"cart\">\r\n    <div className=\"cart-list\">\r\n      <ul className=\"cart-list-container\">\r\n        <li>\r\n          <h3>\r\n            Shopping Cart\r\n          </h3>\r\n          <div>\r\n            Price\r\n          </div>\r\n        </li>\r\n        {\r\n          cartItems.length === 0 ?\r\n            <div>\r\n              Cart is empty\r\n          </div>\r\n            :\r\n            cartItems.map(item =>\r\n              <li>\r\n                <div className=\"cart-image\">\r\n                  <img src={item.image} alt=\"product\" />\r\n                </div>\r\n                <div className=\"cart-name\">\r\n                  <div>\r\n                    <Link to={\"/product/\" + item.product}>\r\n                      {item.name}\r\n                    </Link>\r\n\r\n                  </div>\r\n                  <div>\r\n                    Qty:\r\n                  <select value={item.qty} onChange={(e) => props.addToCart(item.product, e.target.value)}>\r\n                      {[...Array(item.countInStock).keys()].map(x =>\r\n                        <option key={x + 1} value={x + 1}>{x + 1}</option>\r\n                      )}\r\n                    </select>\r\n                    <button type=\"button\" className=\"button\" onClick={() => removeFromCartHandler(item.product)} >\r\n                      Delete\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"cart-price\">\r\n                  ${item.price}\r\n                </div>\r\n              </li>\r\n            )\r\n        }\r\n      </ul>\r\n\r\n    </div>\r\n    <div className=\"cart-action\">\r\n      <h3>\r\n        Subtotal ( {cartItems.reduce((a, c) => a + parseInt(c.qty), 0)} items )\r\n        :\r\n         $ {cartItems.reduce((a, c) => a + parseInt(c.price * c.qty), 0)}\r\n      </h3>\r\n      <button onClick={checkoutHandler} className=\"button primary full-width\" disabled={cartItems.length === 0}>\r\n        Proceed to Checkout\r\n      </button>\r\n\r\n    </div>\r\n\r\n  </div>\r\n}\r\n\r\nconst mapStateToPorps=({cart})=>{\r\n  return{\r\n   cartItems:cart.cartItems\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToPorps,{addToCart,removeFromCart})(CartScreen); ","import Axios from \"axios\";\r\nimport Cookie from \"js-cookie\";\r\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM,CART_SAVE_SHIPPING_ADDRESS,CART_SAVE_PAYMENT_METHOD } from \"../actiontypes/index\";\r\n\r\nconst addToCart = (productId, qty) => async (dispatch, getState) => {\r\n  try {\r\n    const { data } = await Axios.get(\"/api/products/\" + productId);\r\n    dispatch({\r\n      type: CART_ADD_ITEM, payload: {\r\n        product: data._id,\r\n        name: data.name,\r\n        image: data.image,\r\n        price: data.price,\r\n        countInStock: data.countInStock,\r\n        qty\r\n      }\r\n    });    \r\n    const { cart: { cartItems } } = getState();\r\n  //  Cookie.set(\"cartItems\", JSON.stringify(cartItems));    \r\n    localStorage.setItem(\"cartItems\",JSON.stringify(cartItems));    \r\n\r\n  } catch (error) {\r\n\r\n  }\r\n}\r\nconst removeFromCart = (productId) => (dispatch, getState) => {\r\n  dispatch({ type: CART_REMOVE_ITEM, payload: productId });\r\n\r\n  const { cart: { cartItems } } = getState();  \r\n  localStorage.setItem(\"cartItems\",JSON.stringify(cartItems));   \r\n}\r\n\r\n const saveShippingAddress = (data) => (dispatch) => {\r\n   console.log(data);\r\n  dispatch({ type: CART_SAVE_SHIPPING_ADDRESS, payload: data });\r\n  localStorage.setItem('shippingAddress', JSON.stringify(data));\r\n};\r\n\r\n const savePaymentMethod = (data) => (dispatch) => {\r\n  dispatch({ type: CART_SAVE_PAYMENT_METHOD, payload: data });\r\n};\r\n\r\nexport { addToCart, removeFromCart,saveShippingAddress,savePaymentMethod }","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { register } from '../../redux/actionCreator/UserActions';\r\nimport \"./signup.css\"\r\n\r\nfunction RegisterScreen(props) {\r\n    const {userInfo,loading,error}=props\r\n\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (userInfo && !loading) {\r\n      props.history.push(\"/\");\r\n    }\r\n    return () => {\r\n      //\r\n    };\r\n  }, [userInfo]);\r\n\r\n  const submitHandler = () => {\r\n  //  e.preventDefault();\r\n    console.log(props.history);\r\n   props.register(name, email, password, props.history);\r\n   props.history.push(\"/verifyEmail\")\r\n   // now display a msg for user to verify email by clicking link\r\n   //alert(\"check mail\")\r\n   //rediect to new page which will have info about furthur procedings\r\n  \r\n  }\r\n  return <div className=\"form\">\r\n    <form  >\r\n      <ul className=\"form-container\">\r\n        <li>\r\n          <h2>Create Account</h2>\r\n        </li>\r\n        <li>\r\n          {loading && <div>Loading...</div>}\r\n          {error && <div>{error}</div>}\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"name\">\r\n            Name\r\n          </label>\r\n          <input type=\"name\" name=\"name\" id=\"name\" required onChange={(e) => setName(e.target.value)}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"email\">\r\n            Email\r\n          </label>\r\n          <input type=\"email\" name=\"email\" id=\"email\" required onChange={(e) => setEmail(e.target.value)}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input type=\"password\" id=\"password\" name=\"password\" required onChange={(e) => setPassword(e.target.value)}>\r\n          </input>\r\n        </li>\r\n       \r\n        <li>\r\n          <button type=\"submit\" className=\"button-primary\" onClick={()=>{submitHandler()}}>Register</button>\r\n        </li>\r\n        <li>\r\n        <Link to=\"/signin\">   Already have an account?</Link>\r\n        <Link to=\"/resetPassword\"> Forgot Password</Link>\r\n        </li>\r\n\r\n      </ul>\r\n    </form>\r\n  </div>\r\n}\r\nconst mapStateToProps=({user})=>{\r\n    return{\r\n      loading:user.loading,\r\n      userInfo:user.userInfo,\r\n      error:user.userError_register\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{register})(RegisterScreen); ","import React, { useEffect, useState } from 'react';\r\nimport { Link,Redirect } from 'react-router-dom';\r\nimport { connect} from 'react-redux';\r\nimport { signin } from '../../redux/actionCreator/UserActions';\r\nimport \"./signin.css\"\r\n\r\nfunction SigninScreen(props) {\r\n    const {loading,userInfo,error}=props\r\n  const [data, setdata] = useState({\r\n    name:\"\",\r\n    password:\"\"\r\n  });    \r\n\r\n  const redirect = props.location.search ? props.location.search.split(\"=\")[1] : '/';\r\n  useEffect(() => {\r\n    if (userInfo && !loading) {        \r\n      props.history.push(redirect);\r\n      \r\n    }    \r\n  }, [userInfo]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    props.signin(data.email,data.password);       \r\n   // props.history.push(\"/\");\r\n  }\r\n  return <div className=\"form\">\r\n    <form onSubmit={submitHandler} >\r\n      <ul className=\"form-container\">\r\n        <li>\r\n          <h2>Sign-In</h2>\r\n        </li> \r\n        <li>\r\n          {loading && <div>Loading...</div>}\r\n          {error && !loading &&<div>{error}</div>}\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"email\">\r\n            Email\r\n          </label>\r\n          <input type=\"email\" name=\"email\" id=\"email\" required onChange={(e) => setdata({...data,[e.target.name]:e.target.value})}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input type=\"password\" id=\"password\" required name=\"password\" onChange={(e) => setdata({...data,[e.target.name]:e.target.value})}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <button type=\"submit\" className=\"button primary\" onClick={()=>{props.signin(data.email,data.password)}}>Signin</button>\r\n        </li>\r\n        <li>\r\n        <Link to=\"/resetPassword\"> Forgot Password</Link>\r\n        </li>\r\n        <li>\r\n          New to amazona?\r\n        </li>\r\n        <li>\r\n          <Link to=\"/signup\" className=\"button secondary text-center\" >Create your amazona account</Link>\r\n          \r\n        </li>\r\n      </ul>\r\n    </form>\r\n  </div>\r\n}\r\n\r\nconst mapStateToProps=({user})=>{\r\n    return {\r\n        loading:user.loading,\r\n        userInfo:user.userInfo,\r\n        error:user.userError_signin\r\n    }\r\n}\r\nexport default connect(mapStateToProps,{signin})(SigninScreen); ","import React from 'react'\r\nimport { Route,Redirect } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute({ component: Comp, loggedIn, path, ...rest }){\r\n    console.log();\r\n    return (\r\n      <Route\r\n        path={path}\r\n        {...rest}\r\n        render={props => {\r\n          return localStorage.getItem(\"token\") ? <Redirect to=\"/\" />  :<Comp {...props} />;\r\n        }}\r\n      />\r\n    );\r\n  };\r\n\r\nexport default ProtectedRoute\r\n","import React from 'react';\r\nimport {  } from \"./CheckoutSteps.css\";\r\n\r\nexport default function CheckoutSteps(props) {\r\n  return (\r\n    <div className=\"row checkout-steps\">\r\n      <div className={props.step1 ? 'active' : ''}>Sign-In</div>\r\n      <div className={props.step2 ? 'active' : ''}>Shipping</div>\r\n      <div className={props.step3 ? 'active' : ''}>Payment</div>\r\n      <div className={props.step4 ? 'active' : ''}>Place Order</div>\r\n    </div>\r\n  );\r\n}","import React, { useState,useEffect } from 'react';\r\nimport { saveShippingAddress } from \"../../redux/actionCreator/CartActions\";\r\nimport CheckoutSteps from '../../components/CheckoutSteps';\r\nimport  \"./ShippingScreen.css\";\r\nimport { connect} from 'react-redux';\r\n\r\nfunction ShippingAddressScreen(props) {\r\n  \r\n    const {loading,userInfo,error,shippingAddress}=props\r\n\r\n    useEffect(() => {\r\n        if (!userInfo && !loading) {        \r\n         props.history.push(\"/signin\");\r\n        }    \r\n      }, [userInfo]);\r\n\r\n      const [fullName, setFullName] = useState(shippingAddress.fullName);\r\n      const [address, setAddress] = useState(shippingAddress.address);\r\n      const [city, setCity] = useState(shippingAddress.city);\r\n      const [postalCode, setPostalCode] = useState(shippingAddress.postalCode);\r\n      const [country, setCountry] = useState(shippingAddress.country);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n     props.saveShippingAddress({ fullName, address, city, postalCode, country })    \r\n    props.history.push('/payment');\r\n  };\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2></CheckoutSteps>\r\n      <form  onSubmit={submitHandler}>\r\n      <div className=\"form\">\r\n        <div>\r\n          <h1>Shipping Address</h1>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"fullName\">Full Name</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"fullName\"\r\n            placeholder=\"Enter full name\"\r\n            value={fullName}\r\n            onChange={(e) => setFullName(e.target.value)}\r\n            required\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"address\">Address</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"address\"\r\n            placeholder=\"Enter address\"\r\n            value={address}\r\n            onChange={(e) => setAddress(e.target.value)}\r\n            required\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"city\">City</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"city\"\r\n            placeholder=\"Enter city\"\r\n            value={city}\r\n            onChange={(e) => setCity(e.target.value)}\r\n            required\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"postalCode\">Postal Code</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"postalCode\"\r\n            placeholder=\"Enter postal code\"\r\n            value={postalCode}\r\n            onChange={(e) => setPostalCode(e.target.value)}\r\n            required\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"country\">Country</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"country\"\r\n            placeholder=\"Enter country\"\r\n            value={country}\r\n            onChange={(e) => setCountry(e.target.value)}\r\n            required\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label />\r\n          <button className=\"primary\" type=\"submit\">\r\n            Continue\r\n          </button>\r\n        </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps=({user,cart})=>{\r\n    return {\r\n        loading:user.loading,\r\n        userInfo:user.userInfo,\r\n        error:user.userError_signin,\r\n        shippingAddress:cart.shippingAddress\r\n    }\r\n}\r\nexport default connect(mapStateToProps,{saveShippingAddress})(ShippingAddressScreen); ","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { savePaymentMethod } from '../../redux/actionCreator/CartActions';\r\nimport CheckoutSteps from '../../components/CheckoutSteps';\r\n function PaymentMethodScreen(props) {\r\n\r\n\r\n  const  {shippingAddress}  = props;\r\n  if (!shippingAddress) {\r\n    props.history.push('/shipping');\r\n  }\r\n  const [paymentMethod, setPaymentMethod] = useState('PayPal');\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    props.savePaymentMethod(paymentMethod)\r\n    props.history.push('/placeorder');\r\n  };\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2 step3></CheckoutSteps>\r\n      <form className=\"form\" onSubmit={submitHandler}>\r\n        <div>\r\n          <h1>Payment Method</h1>\r\n        </div>\r\n        <div>\r\n          <div>\r\n            <input\r\n              type=\"radio\"\r\n              id=\"paypal\"\r\n              value=\"PayPal\"\r\n              name=\"paymentMethod\"\r\n              required\r\n              checked\r\n              onChange={(e) => setPaymentMethod(e.target.value)}\r\n            ></input>\r\n            <label htmlFor=\"paypal\">PayPal</label>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div>\r\n            <input\r\n              type=\"radio\"\r\n              id=\"stripe\"\r\n              value=\"Stripe\"\r\n              name=\"paymentMethod\"\r\n              required\r\n              onChange={(e) => setPaymentMethod(e.target.value)}\r\n            ></input>\r\n            <label htmlFor=\"stripe\">Stripe</label>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <label />\r\n          <button className=\"primary\" type=\"submit\">\r\n            Continue\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps=({user,cart})=>{\r\n  return {\r\n      loading:user.loading,\r\n      userInfo:user.userInfo,\r\n      error:user.userError_signin,\r\n      shippingAddress:cart.shippingAddress\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,{savePaymentMethod})(PaymentMethodScreen)","import React, { useEffect } from 'react';\r\nimport { createOrder } from '../../redux/actionCreator/OrderActions';\r\nimport { connect} from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport CheckoutSteps from '../../components/CheckoutSteps';\r\nimport \"./PlaceOrderScreen.css\"\r\n\r\nfunction PlaceOrderScreen(props) {\r\n  console.log(props.createOrderdata);\r\n\r\n  const {loading:creatingOrder,order,success,error }=props.createOrderdata\r\n  const { cartItems, shippingAddress, paymentMethod } = props.cart;\r\n\r\n  if (!shippingAddress.address) {\r\n    props.history.push(\"/shipping\");\r\n  } else if (!paymentMethod) {\r\n   props.history.push(\"/payment\");\r\n  }\r\n\r\n  const itemsPrice = cartItems.reduce((a, c) => a +parseInt(c.price)*parseInt(c.qty), 0);\r\n  const shippingPrice = itemsPrice > 100 ? 0 : 10;\r\n  const taxPrice = 0.15 * itemsPrice;\r\n  const totalPrice = itemsPrice + shippingPrice + taxPrice;\r\n\r\n  const placeOrderHandler = () => {\r\n    // create an order\r\n   props.createOrder({\r\n      orderItems: cartItems, shippingAddress, paymentMethod, itemsPrice, shippingPrice,\r\n      taxPrice, totalPrice\r\n    });\r\n    props.history.push(\"/order/\" + order._id);\r\n    \r\n  }\r\n\r\n  useEffect(() => {\r\n    //alert(success)\r\n    if (success) {\r\n    //  alert(success)\r\n     // props.history.push(\"/order/\" + order._id);\r\n    }\r\n  }, [success]);\r\n\r\n  const checkoutHandler = () => {\r\n    props.history.push(\"/signin?redirect=shipping\");\r\n  }\r\n\r\n  return <div>\r\n    <CheckoutSteps step1 step2 step3 step4 ></CheckoutSteps>\r\n    <div className=\"placeorder\">\r\n      <div className=\"placeorder-info\">\r\n        <div>\r\n          <h3>\r\n            Shipping\r\n          </h3>\r\n          <div>\r\n            {shippingAddress.address}, {shippingAddress.city},\r\n          {shippingAddress.postalCode}, {shippingAddress.country},\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <h3>Payment</h3>\r\n          <div>\r\n            Payment Method: {paymentMethod}\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <ul className=\"cart-list-container\">\r\n            <li>\r\n              <h3> \r\n                Shopping Cart\r\n          </h3>\r\n              <div>\r\n                Price\r\n          </div>\r\n         \r\n          \r\n            </li>\r\n            {\r\n              cartItems.length === 0 ?\r\n                <div>\r\n                  Cart is empty\r\n          </div>\r\n                :\r\n                cartItems.map(item =>\r\n                  <li>\r\n                    <div className=\"cart-image\">\r\n                      <img src={item.image} alt=\"product\" />\r\n                    </div>\r\n                    <div className=\"cart-name\">\r\n                      <div>\r\n                        <Link to={\"/product/\" + item.product}>\r\n                          {item.name}\r\n                        </Link>\r\n\r\n                      </div>\r\n                      <div>\r\n                        Qty: {item.qty}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"cart-price\">\r\n                      ${item.price}\r\n                    </div>\r\n                   \r\n                  </li>\r\n                )\r\n            }\r\n          </ul>\r\n        </div>\r\n\r\n\r\n      </div>\r\n      <div class=\"placeorder-action\">\r\n        <ul>\r\n          <li>\r\n            <button className=\"button primary full-width\" onClick={placeOrderHandler} >Place Order</button>\r\n          </li>\r\n          <li>\r\n            <h3>Order Summary</h3>\r\n          </li>\r\n          <li>\r\n            <div>Items</div>\r\n            <div>${itemsPrice}</div>\r\n          </li>\r\n          <li>\r\n            <div>Shipping</div>\r\n            <div>${shippingPrice}</div>\r\n          </li>\r\n          <li>\r\n            <div>Tax</div>\r\n            <div>${taxPrice}</div>\r\n          </li>\r\n          <li>\r\n            <div>Order Total</div>\r\n            <div>${totalPrice}</div>\r\n          </li>\r\n        </ul>\r\n\r\n\r\n\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n}\r\n\r\nconst mapStateToProps=({createOrder,cart})=>{\r\n    return {\r\n        cart:cart,\r\n        createOrderdata:createOrder\r\n    }\r\n}\r\nexport default connect(mapStateToProps,{createOrder})(PlaceOrderScreen); ","import Axios from \"axios\";\r\n\r\nimport {\r\n  ORDER_CREATE_REQUEST, ORDER_CREATE_SUCCESS, ORDER_CREATE_FAIL,\r\n  ORDER_DETAILS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_DETAILS_FAIL,\r\n  ORDER_PAY_REQUEST,ORDER_PAY_SUCCESS,ORDER_PAY_FAIL,\r\n  MY_ORDER_LIST_FAIL,MY_ORDER_LIST_REQUEST,MY_ORDER_LIST_SUCCESS,\r\n  ORDER_DELETE_SUCCESS,ORDER_DELETE_REQUEST,ORDER_DELETE_FAIL,\r\n  ORDER_LIST_SUCCESS,ORDER_LIST_REQUEST,ORDER_LIST_FAIL\r\n} from \"../actiontypes/index\";\r\n\r\nconst createOrder = (order) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_CREATE_REQUEST, payload: order });\r\n    const { user: { userInfo } } = getState();\r\n    const { data: { data: newOrder } } = await Axios.post(\"/api/order/createOrder\", order);\r\n    dispatch({ type: ORDER_CREATE_SUCCESS, payload: newOrder });\r\n\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch({ type: ORDER_CREATE_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\nconst listMyOrders = () => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: MY_ORDER_LIST_REQUEST });\r\n    const { user: { userInfo } } = getState();\r\n    const { data } = await Axios.get(\"/api/order/all/myorders\",{\r\n      headers:\r\n       {  \"x-auth-token\": localStorage.getItem(\"token\") }\r\n    });\r\n    dispatch({ type: MY_ORDER_LIST_SUCCESS, payload: data })\r\n  } catch (error) {\r\n    dispatch({ type: MY_ORDER_LIST_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\n\r\nconst detailsOrder = (orderId) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_DETAILS_REQUEST, payload: orderId });\r\n    const { user: { userInfo } } = getState();\r\n    const { data } = await Axios.get(\"/api/order/\" + orderId, {\r\n      headers:\r\n        {  \"x-auth-token\": localStorage.getItem(\"token\") }\r\n    });\r\n\r\n    dispatch({ type: ORDER_DETAILS_SUCCESS, payload: data })\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch({ type: ORDER_DETAILS_FAIL, payload:\"Order Not found\" });\r\n  }\r\n}\r\n\r\nconst payOrder = (order, paymentResult) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_PAY_REQUEST, payload: paymentResult });\r\n    const { userSignin: { userInfo } } = getState();\r\n    const { data } = await Axios.put(\"/api/orders/\" + order._id + \"/pay\", paymentResult, {\r\n      headers:\r\n      {  \"x-auth-token\": localStorage.getItem(\"token\") }\r\n    });\r\n    dispatch({ type: ORDER_PAY_SUCCESS, payload: data })\r\n  } catch (error) {\r\n    dispatch({ type: ORDER_PAY_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\n//--------------admin----------------------------------------\r\nconst listOrders = () => async (dispatch, getState) => {\r\n\r\n  try {\r\n    dispatch({ type: ORDER_LIST_REQUEST });\r\n    const { user: { userInfo } } = getState();\r\n    const { data } = await Axios.get(\"/api/order\", {\r\n      headers:\r\n      {  \"x-auth-token\": localStorage.getItem(\"token\") }\r\n    });\r\n    dispatch({ type: ORDER_LIST_SUCCESS, payload: data })\r\n  } catch (error) {\r\n    dispatch({ type: ORDER_LIST_FAIL, payload: error.message });\r\n  }\r\n\r\n}\r\nconst deleteOrder = (orderId) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_DELETE_REQUEST, payload: orderId });\r\n    const { user: { userInfo } } = getState();\r\n    const { data } = await Axios.delete(\"/api/order/\" + orderId, {\r\n      headers:\r\n      {  \"x-auth-token\": localStorage.getItem(\"token\") }\r\n    });\r\n    dispatch({ type: ORDER_DELETE_SUCCESS, payload: data })\r\n  } catch (error) {\r\n    dispatch({ type: ORDER_DELETE_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\nexport { createOrder, detailsOrder,payOrder,listMyOrders ,listOrders,deleteOrder}; ","import React, { useState, useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport axios from 'axios';\r\nfunction PaypalButton(props) {\r\n  const [sdkReady, setSdkReady] = useState(false);\r\n\r\n  const addPaypalSdk = async () => {\r\n    const result = await axios.get(\"/api/config/paypal\");\r\n    //console.log(result);\r\n    const clientID = result.data;\r\n    const script = document.createElement('script');\r\n    script.type = 'text/javascript';\r\n    script.src = 'https://www.paypal.com/sdk/js?client-id='+clientID+\"&currency=INR\";\r\n    script.async = true;\r\n    script.onload = () => {\r\n      setSdkReady(true);\r\n    }\r\n    document.body.appendChild(script);\r\n  }\r\n\r\n  const createOrder = (data, actions) => actions.order.create({\r\n    purchase_units: [\r\n      {\r\n        amount: {\r\n          currency_code: \"INR\",\r\n           value:props.amount,\r\n        }\r\n      }\r\n    ]\r\n  });\r\n\r\n  const onApprove = (data, actions) => actions.order\r\n    .capture()\r\n    .then(details => props.onSuccess(data, details))\r\n    .catch(err => console.log(err));\r\n\r\n  useEffect(() => {\r\n    if (!window.paypal) {\r\n      addPaypalSdk();\r\n    }\r\n    return () => {\r\n      //\r\n    };\r\n  }, []);\r\n\r\n  if (!sdkReady) {\r\n    return <div>Loading...</div>\r\n  }\r\n\r\n  const Button = window.paypal.Buttons.driver('react', { React, ReactDOM });\r\n\r\n  return <Button {...props} createOrder={(data, actions) => createOrder(data, actions)}\r\n  style={{width:\"400px\"}}\r\n    onApprove={(data, actions) => onApprove(data, actions)} />\r\n}\r\n\r\nexport default PaypalButton;","import React, { useEffect } from 'react';\r\nimport { useDispatch, connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport {  detailsOrder, payOrder } from '../../redux/actionCreator/OrderActions';\r\nimport PaypalButton from '../../components/PaypalButton';\r\nimport \"./OrderScreen.css\"\r\n\r\nfunction OrderScreen(props) {\r\n\r\n  const { loading, order, error } = props.orderDetails;\r\n  console.log(order);\r\n  const { loading: loadingPay, success: successPay, error: errorPay } = props.orderPayment;\r\n\r\n \r\n  useEffect(() => { \r\n    console.log(\"in use effect\")  \r\n     if (successPay) {\r\n       props.history.push(\"/profile\");\r\n     } else {\r\n       //alert(\"in else\")\r\n       if(props.match.params.id){\r\n         props.detailsOrder(props.match.params.id);\r\n      }\r\n     }\r\n   }, [successPay]);\r\n\r\n  console.log(props.match.params.id);\r\n\r\n\r\n  if(!props.match.params.id){\r\n    alert(\"empty\");\r\n    return(\r\n        <div>\r\n            no order\r\n        </div>\r\n    )\r\n    \r\n  }\r\n  const handleSuccessPayment = (paymentResult) => {\r\n    console.log(\"CALLED\");\r\n    props.payOrder(order, paymentResult);\r\n  }\r\n\r\n  return loading ? <div>Loading ...</div> : error ? <div>{error}</div> :\r\n    <div>\r\n      <div className=\"placeorder\">\r\n        <div className=\"placeorder-info\">\r\n          <div>\r\n            <h3>\r\n              Shipping\r\n          </h3>\r\n            <div>\r\n              {order && order.shippingAddress && order.shippingAddress.address}, {order && order.shippingAddress &&order.shippingAddress.city},\r\n          {order && order.shippingAddress &&order.shippingAddress.postalCode}, {order && order.shippingAddress &&order.shippingAddress.country},\r\n          </div>\r\n            <div>\r\n              {order.isDelivered ? \"Delivered at \" + order.deliveredAt : \"Not Delivered.\"}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h3>Payment</h3>\r\n            <div>\r\n              Payment Method: {order.paymentMethod}\r\n            </div>\r\n            <div>\r\n              {order.isPaid ? \"Paid at \" + order.paidAt : \"Not Paid.\"}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <ul className=\"cart-list-container\">\r\n              <li>\r\n                <h3>\r\n                  Shopping Cart\r\n          </h3>\r\n                <div>\r\n                  Price\r\n          </div>\r\n              </li>\r\n              {\r\n                order.orderItems.length === 0 ?\r\n                  <div>\r\n                    Cart is empty\r\n          </div>\r\n                  :\r\n                  order.orderItems.map(item =>\r\n                    <li>\r\n                      <div className=\"cart-image\">\r\n                        <img src={item.image} alt=\"product\" />\r\n                      </div>\r\n                      <div className=\"cart-name\">\r\n                        <div>\r\n                          <Link to={\"/product/\" + item.product}>\r\n                            {item.name}\r\n                          </Link>\r\n\r\n                        </div>\r\n                        <div>\r\n                          Qty: {item.qty}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"cart-price\">\r\n                        ${item.price}\r\n                      </div>\r\n                    </li>\r\n                  )\r\n              }\r\n            </ul>\r\n          </div>\r\n\r\n\r\n        </div>      \r\n        <div className=\"placeorder-action\">\r\n          <ul>\r\n            <li>\r\n              <li className=\"placeorder-actions-payment\" style={{width:\"350px\"}} >\r\n              {props.loading && <div>Finishing Payment...</div>}\r\n              {!order.isPaid &&\r\n                <PaypalButton\r\n                  amount={order.totalPrice}\r\n                  onSuccess={handleSuccessPayment} />\r\n              }\r\n            </li>\r\n            </li>\r\n            <li>\r\n              <h3>Order Summary</h3>\r\n            </li>\r\n            <li>\r\n              <div>Items</div>\r\n              <div>${order.itemsPrice}</div>\r\n            </li>\r\n            <li>\r\n              <div>Shipping</div>\r\n              <div>${order.shippingPrice}</div>\r\n            </li>\r\n            <li>\r\n              <div>Tax</div>\r\n              <div>${order.taxPrice}</div>\r\n            </li>\r\n            <li>\r\n              <div>Order Total</div>\r\n              <div>${order.totalPrice}</div>\r\n            </li>\r\n          </ul>\r\n\r\n\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n}\r\nconst mapStateToProps=({orderdetails,orderPayment})=>{\r\n    return {\r\n        orderDetails:orderdetails,\r\n        orderPayment:orderPayment\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{detailsOrder,payOrder})(OrderScreen); ","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { logout, update } from '../../redux/actionCreator/UserActions';\r\nimport { listMyOrders } from '../../redux/actionCreator/OrderActions';\r\nimport { connect} from 'react-redux';\r\nimport \"./ProfielScreen.css\"\r\n\r\nfunction ProfileScreen(props) {\r\n  const [name, setName] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [email, setEmail] = useState('');\r\n\r\n\r\n\r\n  const { userInfo } = props.user;\r\n\r\n  const handleLogout = () => {\r\n    props.logout();\r\n    props.history.push(\"/signin\");\r\n  }\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n   props.update({ userId: userInfo._id, email, name, password })\r\n  }\r\n\r\n  const { loading, success, error } = props.user;  \r\n  const { loading: loadingOrders, orders, error: errorOrders } =props.myOrderList;\r\n\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      console.log(userInfo.name)\r\n      setEmail(userInfo.email);\r\n      setName(userInfo.name);\r\n      setPassword(userInfo.password);\r\n    }  \r\n props.listMyOrders();\r\n if(!userInfo){\r\n   props.history.push(\"/\")\r\n }\r\n   \r\n  }, [userInfo])\r\n\r\n  \r\n\r\n  return (<div className=\"profile\">\r\n    <div className=\"profile-info\">\r\n      <div className=\"form\">\r\n        <form onSubmit={submitHandler} >\r\n          <ul className=\"form-container\">\r\n            <li>\r\n              <h2>User Profile</h2>\r\n            </li>\r\n            <li>\r\n              {loading && <div>Loading...</div>}\r\n              {error && <div>{error}</div>}\r\n              {success && <div>Profile Saved Successfully.</div>}\r\n            </li>\r\n            <li>\r\n              <label htmlFor=\"name\">\r\n                Name\r\n          </label>\r\n              <input value={name} type=\"name\" name=\"name\" id=\"name\" onChange={(e) => setName(e.target.value)}>\r\n              </input>\r\n            </li>\r\n            <li>\r\n              <label htmlFor=\"email\">\r\n                Email\r\n          </label>\r\n              <input value={email} type=\"email\" name=\"email\" id=\"email\" onChange={(e) => setEmail(e.target.value)}>\r\n              </input>\r\n            </li>\r\n         { /*  <li>\r\n              <label htmlFor=\"password\">Password</label>\r\n              <input value={password} type=\"password\" id=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)}>\r\n              </input>\r\n            </li> */}\r\n\r\n            <li>\r\n              <button type=\"submit\" className=\"button primary\">Update</button>\r\n            </li>\r\n            <li>\r\n\r\n              <button type=\"button\" onClick={handleLogout} className=\"button secondary full-width\">Logout</button>\r\n            </li>\r\n\r\n          </ul>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    <div className=\"profile-orders content-margined\">\r\n      {\r\n        loadingOrders ? <div>Loading...</div> :\r\n          errorOrders ? <div>{errorOrders} </div> :\r\n            <table className=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>ID</th>\r\n                  <th>DATE</th>\r\n                  <th>TOTAL</th>\r\n                  <th>PAID</th>\r\n                  <th>ACTIONS</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {orders.map(order => <tr key={order._id}>\r\n                  <td>{order._id}</td>\r\n                  <td>{order.createdAt}</td>\r\n                  <td>{order.totalPrice}</td>\r\n                  <td>{order.isPaid}</td>\r\n                  <td>\r\n                    <Link to={\"/order/\" + order._id}>DETAILS</Link>\r\n                  </td>\r\n                </tr>)}\r\n              </tbody>\r\n            </table>\r\n      }\r\n    </div>\r\n  </div>)\r\n\r\n}\r\n\r\nconst mapStateToProps=({user,createOrder,userUpdate,myOrderList})=>{\r\n    return {\r\n        user:user,\r\n        createOrderdata:createOrder,\r\n        userUpdate:userUpdate,\r\n        myOrderList:myOrderList \r\n    }\r\n} \r\nexport default connect(mapStateToProps,{listMyOrders,logout,update})(ProfileScreen);","import React from 'react'\r\nimport \"./verify.css\"\r\n\r\n\r\n\r\nfunction VerifyEmailScreen(props) {\r\n   \r\n  return   <div class=\"center_div\">\r\n  Please Check Your Mail and complete the verification procedure\r\n</div>\r\n}\r\n\r\n\r\nexport default VerifyEmailScreen\r\n","    import React ,{useState}from 'react'\r\n    import { connect } from \"react-redux\";\r\n    import Snackbar from '@material-ui/core/Snackbar';\r\n    import MuiAlert from '@material-ui/lab/Alert';\r\n    \r\nimport { Link,Redirect } from 'react-router-dom';\r\n    import {sendVerificationCode,resetPassword  } from \"../../redux/actionCreator/PasswordReset.js\";\r\n    function Alert(props) {\r\n        return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n      }\r\n    \r\n    function ForgotReset(props) {\r\n        \r\n        const [open, setOpen] = React.useState(true);\r\n\r\n        const handleClick = () => {\r\n          setOpen(true);\r\n        };\r\n      \r\n        const handleClose = (event, reason) => {\r\n          if (reason === 'clickaway') {\r\n            return;\r\n          }\r\n      \r\n          setOpen(false);\r\n        };\r\n\r\n        const [data, setdata\r\n        ] = useState({\r\n            email:null,\r\n            token:null,\r\n            password:null,\r\n          });  \r\n\r\n\r\n        return (\r\n            <div className=\"form\">\r\n                  <ul className=\"form-container\">\r\n        <li>\r\n          <h2>Reset screen</h2>\r\n        </li>       \r\n        <li>\r\n          <label htmlFor=\"email\">\r\n            Email\r\n          </label>\r\n          <input type=\"email\" name=\"email\" id=\"email\" required onChange={(e) => setdata({...data,[e.target.name]:e.target.value})}>\r\n          </input>\r\n        </li>\r\n       {!props.passwordReset.codeSent.status && !props.passwordReset.passwordresetsuccess.status &&\r\n        <li>\r\n          <button type=\"submit\" className=\"button primary\" onClick={()=>{props.sendVerificationCode(data.email)}}>Send Reset Code</button>\r\n        </li>\r\n        \r\n        }\r\n        <li>\r\n        {props.passwordReset.codesentLoading && <div>Sending Code</div>}\r\n        {props.passwordReset.codeSent.status && !props.passwordReset.codesentLoading &&<div>\r\n        \r\n        <Snackbar open={open}  onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity=\"success\">\r\n        {props.passwordReset.codeSent.msg}\r\n        </Alert>\r\n      </Snackbar>\r\n      </div>       \r\n        }\r\n        {props.passwordReset.codeSentError && !props.passwordReset.codesentLoading &&<div>\r\n       \r\n        <Snackbar open={open}  onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity=\"error\">\r\n        {props.passwordReset.codeSentError}\r\n        </Alert>\r\n      </Snackbar>\r\n\r\n        </div>}\r\n       \r\n       </li>\r\n       \r\n        <li>\r\n          <label >Token</label>\r\n          <input  id=\"token\" required name=\"token\" onChange={(e) => setdata({...data,[e.target.name]:e.target.value})}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"password\"> New Password</label>\r\n          <input type=\"password\" id=\"password\" required name=\"password\" onChange={(e) => setdata({...data,[e.target.name]:e.target.value})}>\r\n          </input>\r\n        </li>\r\n      {!props.passwordReset.passwordresetsuccess.status &&\r\n       <li>\r\n          <button type=\"submit\" className=\"button primary\" onClick={()=>{props.resetPassword(data.password,data.token)}}>Reset Password</button>\r\n        </li>\r\n        }\r\n        {props.passwordReset.passwordResetloading && <div>Verifying Token</div>}\r\n        {props.passwordReset.passwordresetsuccess.status  && !props.passwordReset.codesentLoading \r\n        &&data.email&&\r\n        <div>\r\n        <li>\r\n       \r\n        <Snackbar open={open}  onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity=\"success\">\r\n        {props.passwordReset.passwordresetsuccess.msg}\r\n        </Alert>\r\n      </Snackbar>\r\n        </li>\r\n        <li>\r\n        <Link to=\"/signin\" className=\"button secondary text-center\" >Log In To Your Account</Link>\r\n        </li> \r\n        </div>\r\n         }\r\n        {props.passwordReset.passwordResetError && !props.passwordReset.passwordResetloading &&\r\n        <div>\r\n        <Snackbar open={open}  onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity=\"error\">\r\n        {props.passwordReset.passwordResetError}\r\n        </Alert>\r\n      </Snackbar>\r\n       \r\n        \r\n        </div>}\r\n       \r\n       \r\n      </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const MapStateToProps=({passwordReset})=>{\r\n        return {\r\n            passwordReset:passwordReset\r\n         }\r\n        \r\n      }\r\n    \r\n    export default connect(MapStateToProps,{sendVerificationCode,resetPassword})(ForgotReset)\r\n    ","import {\r\n    SEND_PASSWORD_RESET_CODE_FAIL,\r\n    SEND_PASSWORD_RESET_CODE_REQUEST,\r\n    SEND_PASSWORD_RESET_CODE_SUCCESS,\r\n    PASSWORD_RESET_FAIL,\r\n    PASSWORD_RESET_REQUEST,\r\n    PASSWORD_RESET_SUCCESS\r\n  } from \"../actiontypes/index\";\r\n  import Axios from \"axios\"\r\n\r\nexport const sendVerificationCode = (email) => async (dispatch) => {\r\n    try {\r\n      dispatch({ type: SEND_PASSWORD_RESET_CODE_REQUEST,  });\r\n    \r\n      const { data} = await Axios.get(`/api/users/resetpassword/${email}`);\r\n      dispatch({ type: SEND_PASSWORD_RESET_CODE_SUCCESS, payload: data });\r\n  \r\n    } catch (error) {\r\n      console.log(error.response);\r\n      dispatch({ type: SEND_PASSWORD_RESET_CODE_FAIL, payload: error.response.data });\r\n    }\r\n  }\r\n\r\n  \r\nexport const resetPassword= (password,token) => async (dispatch) => {\r\n    try {\r\n      dispatch({ type: PASSWORD_RESET_REQUEST });\r\n      const { data} = await Axios.post(`/api/users/resetpassword`, {password,token});\r\n      console.log(data);\r\n      dispatch({ type: PASSWORD_RESET_SUCCESS, payload: data });\r\n  \r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch({ type: PASSWORD_RESET_FAIL, payload: error.response.data.msg });\r\n    }\r\n\r\n  }","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { saveOrder, listOrders, deleteOrder } from '../../../redux/actionCreator/OrderActions';\r\nimport \"./OrderScreen.css\"\r\n\r\n\r\n\r\nfunction OrdersScreen(props) {\r\n \r\n  \r\n  const { loading, orders, error } = props.orderList;\r\n\r\n  \r\n  const { loading: loadingDelete, success: successDelete, error: errorDelete } = props.orderDelete;\r\n\r\n \r\n\r\n  useEffect(() => {\r\n    props.listOrders();\r\n    return () => {\r\n      //\r\n    };\r\n  }, [successDelete]);\r\n  \r\n  useEffect(() => {\r\n    if(!props.user.userInfo){\r\n      props.history.push(\"/\")\r\n    }\r\n  }, [props.user.userInfo]);\r\n\r\n  \r\n\r\n  const deleteHandler = (order) => {\r\n    props.deleteOrder(order._id);\r\n  }\r\n  return loading ? <div>Loading...</div> : props.user.userInfo && !props.user.userInfo.isAdmin ? <div> you are not allowed to access this page</div>: \r\n    <div className=\"content content-margined\">\r\n\r\n      <div className=\"order-header\">\r\n        <h3>Orders</h3>\r\n      </div>\r\n      <div className=\"order-list\">\r\n\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>DATE</th>\r\n              <th>TOTAL</th>\r\n              <th>USER</th>\r\n              <th>PAID</th>\r\n              <th>PAID AT</th>\r\n              <th>DELIVERED</th>\r\n              <th>DELIVERED AT</th>\r\n              <th>ACTIONS</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            { orders && orders.map(order => (<tr key={order._id}>\r\n              <td>{order._id}</td>\r\n              <td>{(order.createdAt).substring(0,10)}</td>\r\n              <td>{order.totalPrice}</td>\r\n              <td>{order.user.name}</td>\r\n              <td>{order.isPaid.toString()}</td>\r\n              <td>{order.paidAt}</td>\r\n              <td>{order.isDelivered.toString()}</td>\r\n              <td>{order.deliveredAt}</td>\r\n              <td>\r\n                <Link to={\"/order/\" + order._id} className=\"button secondary\" >Details</Link>\r\n                {' '}\r\n                <button type=\"button\" onClick={() => deleteHandler(order)} className=\"button secondary\">Delete</button>\r\n              </td>\r\n            </tr>))}\r\n          </tbody>\r\n        </table>\r\n\r\n      </div>\r\n    </div>\r\n}\r\nconst mapStateToProps=({user,orderList,orderDelete})=>{\r\n    return {\r\n        user:user,\r\n        orderList:orderList,\r\n        orderDelete:orderDelete\r\n\r\n    }\r\n  }\r\nexport default connect(mapStateToProps,{deleteOrder,listOrders})(OrdersScreen); ","import firebase from 'firebase/app'\r\nimport 'firebase/storage'\r\n\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyBmCkA-4PuuC0clQSoC_GC1qMEWi7abHdw\",\r\n    authDomain: \"first-project-65d14.firebaseapp.com\",\r\n    databaseURL: \"https://first-project-65d14.firebaseio.com\",\r\n    projectId: \"first-project-65d14\",\r\n    storageBucket: \"first-project-65d14.appspot.com\",\r\n    messagingSenderId: \"993800731740\",\r\n    appId: \"1:993800731740:web:a46a10248b603d7f583a99\",\r\n    measurementId: \"G-8CKJ3TGPR6\"\r\n  };\r\n  // Initialize Firebase\r\n  firebase.initializeApp(firebaseConfig);\r\n  const storage = firebase.storage();\r\n\r\n  export  {\r\n    storage, firebase as default\r\n  }","import React, { useEffect, useState } from 'react';\r\nimport {  connect } from 'react-redux';\r\n\r\nimport \"./ProductScreen.css\"\r\nimport Loading from \"../../../components/Loading/LoadingBox\";\r\nimport MessageBox from \"../../../components/ErrorBox/ErrorBox\"\r\n\r\nimport { storage } from \"../../../firebase/firebase\"\r\n\r\n\r\nimport { saveProduct,getAllProducts,deleteProdcut } from \"../../../redux/actionCreator/ProductActions\";\r\n\r\nfunction ProductsScreen(props) {\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [id, setId] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [price, setPrice] = useState('');\r\n  const [brand, setBrand] = useState('');\r\n  const [category, setCategory] = useState('');\r\n  const [countInStock, setCountInStock] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [uploading, setUploading] = useState(false);  \r\n  const [image, setImage] = useState('');\r\n  const [preview, setpreview] = useState(null);\r\n\r\n  const uploadFileHandler = (e) => {\r\n    setpreview(URL.createObjectURL(e.target.files[0]) )\r\n    const file = e.target.files[0];\r\n    const bodyFormData = new FormData();\r\n    bodyFormData.append('image', file);\r\n    setUploading(true);\r\n    /*axios\r\n      .post('/api/uploadimage', bodyFormData, {\r\n        headers: {\r\n          \"x-auth-token\": localStorage.getItem(\"token\") \r\n        },\r\n      })\r\n      .then((response) => {\r\n        setImage(response.data);\r\n        setUploading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setUploading(false);\r\n      });*/\r\n      const uploadTask = storage.ref(`/mernsocialmedia/posts/${file.name}`).put(file)\r\n        uploadTask.on('state_changed', \r\n      (snapShot) => {\r\n        //takes a snap shot of the process as it is happening\r\n       console.log(snapShot)\r\n      }, (err) => {\r\n        //catches the errors\r\n        console.log(err)\r\n      }, () => {\r\n        // gets the functions from storage refences the image storage in firebase by the children\r\n        // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n         \r\n        storage.ref('mernsocialmedia/posts').child(file.name).getDownloadURL()\r\n         .then(fireBaseUrl => {\r\n          console.log(\"url is \",fireBaseUrl); \r\n          setImage(fireBaseUrl);\r\n          setUploading(false); \r\n               })\r\n      })\r\n\r\n  };\r\n\r\n  const { loading, Allproducts:products, product_fetching_error } = props.productList;\r\n\r\n  const { loading: loadingSave, success: successSave, error: errorSave } = props.productSave;\r\n\r\n\r\n  const { loading: loadingDelete, success: successDelete, error: errorDelete } = props.productDelete;\r\n  \r\n  useEffect(() => {\r\n    if (successSave) {\r\n      setModalVisible(false);    }\r\n        props.getAllProducts()\r\n   \r\n  }, [loadingSave, loadingDelete]);\r\n\r\n  \r\n  useEffect(() => {\r\n    if(!props.user.userInfo){\r\n      props.history.push(\"/\")\r\n    }\r\n  }, [props.user.userInfo]);\r\n\r\n  const openModal = (product) => {\r\n    setModalVisible(true);\r\n    setId(product._id);\r\n    setName(product.name);\r\n    setPrice(product.price);\r\n    setImage(product.image);\r\n    setDescription(product.description);\r\n    setImage(product.image);\r\n    setBrand(product.brand);\r\n    setCategory(product.category);\r\n    setCountInStock(product.countInStock);\r\n  }\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    props.saveProduct({\r\n      _id: id,\r\n      name, price, image, brand, category,\r\n      countInStock, description\r\n    });\r\n    setModalVisible(false)\r\n  }\r\n  const deleteHandler = (product) => {\r\n  props.deleteProdcut(product._id);\r\n  setModalVisible(false)\r\n  }\r\n  return  props.user.userInfo && !props.user.userInfo.isAdmin ? <div> you are not allowed to access this page</div> : <div className=\"content content-margined\">\r\n  {loadingSave || loadingDelete  && <Loading></Loading>}\r\n    {product_fetching_error && <MessageBox msg={props.product_fetching_error} type=\"1\"></MessageBox>}\r\n    {errorSave && <MessageBox msg={props.errorSave} type=\"1\"></MessageBox>}\r\n    {errorDelete && <MessageBox msg={props.errorDelete} type=\"1\"></MessageBox>}\r\n\r\n    <div className=\"product-header\">\r\n      <h3>Products</h3>\r\n      <button className=\"button primary\" style={{width:\"180px\"}} onClick={() => openModal({})}>Create Product</button>\r\n    </div>\r\n    {modalVisible &&\r\n      <div className=\"form\">\r\n        <form onSubmit={submitHandler}  >\r\n          <ul className=\"form-container\">\r\n            <li>\r\n              <h2>Create Product</h2>\r\n            </li>\r\n            <li>\r\n              {loadingSave && <div>Loading...</div>}\r\n              {errorSave && <div>{errorSave}</div>}\r\n            </li>\r\n\r\n            <li>\r\n              <label htmlFor=\"name\">\r\n                Name\r\n          </label>\r\n              <input type=\"text\"  name=\"name\" value={name} id=\"name\" onChange={(e) => setName(e.target.value)} required>\r\n              </input>\r\n            </li>\r\n            <li>\r\n              <label htmlFor=\"price\">\r\n                Price\r\n          </label>\r\n              <input type=\"text\" name=\"price\"   type=\"number\" value={price} id=\"price\" onChange={(e) => setPrice(e.target.value)} required>\r\n              </input>\r\n            </li>\r\n            <li>\r\n            <label htmlFor=\"image\">Image</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"image\"\r\n                  value={image}\r\n                  id=\"image\"\r\n                  onChange={(e) => {\r\n                    setImage(e.target.value)\r\n                    setpreview(URL.createObjectURL(e.target.files[0]) )\r\n                  }               \r\n                  }\r\n                ></input>\r\n                <input type=\"file\" onChange={uploadFileHandler}></input>\r\n                {\r\n                preview && <img style={{width:300,height:300,padding:'0 20px'}} src={preview}/>\r\n                }\r\n                {uploading && <div>Uploading...</div>}\r\n            </li>\r\n            <li>\r\n              <label htmlFor=\"brand\">\r\n                Brand\r\n          </label>\r\n              <input type=\"text\" name=\"brand\"  value={brand} id=\"brand\" onChange={(e) => setBrand(e.target.value)} required>\r\n              </input>\r\n            </li>\r\n            <li>\r\n              <label htmlFor=\"countInStock\">\r\n                CountInStock\r\n          </label>\r\n              <input type=\"text\" name=\"countInStock\"   type=\"number\" value={countInStock} id=\"countInStock\" onChange={(e) => setCountInStock(e.target.value)} required>\r\n              </input>\r\n            </li>\r\n            <li>\r\n              <label htmlFor=\"name\">\r\n                Category\r\n          </label>\r\n              <input type=\"text\" name=\"category\"  value={category} id=\"category\" onChange={(e) => setCategory(e.target.value)} required>\r\n              </input>\r\n            </li>\r\n            <li>\r\n              <label htmlFor=\"description\">\r\n                Description\r\n          </label>\r\n              <textarea name=\"description\"   value={description} id=\"description\" onChange={(e) => setDescription(e.target.value)} ></textarea>\r\n            </li>\r\n            <li>\r\n              <button type=\"submit\" className=\"button primary\">{id ? \"Update\" : \"Create\"}</button>\r\n            </li>\r\n            <li>\r\n              <button type=\"button\" onClick={() => setModalVisible(false)} className=\"button secondary\">Back</button>\r\n            </li>\r\n          </ul>\r\n        </form>\r\n      </div>\r\n    }\r\n\r\n\r\n    <div className=\"product-list\">\r\n\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Name</th>\r\n            <th>Price</th>\r\n            <th>Category</th>\r\n            <th>Brand</th>\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          { products && products.map(product => (<tr key={product._id}>\r\n            <td>{product._id}</td>\r\n            <td>{product.name}</td>\r\n            <td>{product.price}</td>\r\n            <td>{product.category}</td>\r\n            <td>{product.brand}</td>\r\n            <td>\r\n              <button className=\"button\" onClick={() => openModal(product)} >Edit</button>\r\n              {' '}\r\n              <button className=\"button\" onClick={() => deleteHandler(product)} >Delete</button>\r\n            </td>\r\n          </tr>))}\r\n        </tbody>\r\n      </table>\r\n\r\n    </div>\r\n  </div>\r\n}\r\n\r\nconst mapStateToProps=({user,productDelete,productSave,productList})=>{\r\n    return {\r\n        user:user,\r\n        productDelete:productDelete,\r\n        productSave:productSave,\r\n        productList:productList\r\n    }\r\n} \r\n\r\nexport default connect(mapStateToProps,{saveProduct,getAllProducts,deleteProdcut})(ProductsScreen);","import React,{useEffect} from 'react';\nimport \"./App.css\"\n\nimport Cookie from 'js-cookie';\nimport {connect  } from \"react-redux\";\nimport { BrowserRouter, Route,Link,withRouter,useHistory} from 'react-router-dom';\n\nimport Navbar from \"./components/Navbar/Navbar\"\n\nimport HomeScreen from './Screens/HomeScreen/HomeScreen';\nimport ProductScreen from './Screens/ProductScreen/ProductScreen';\nimport CartScreen from './Screens/Cart/cartScreen';\nimport RegisterScreen from \"./Screens/Signup/signup\"\nimport SignInScreen from \"./Screens/Signin/signin\"\nimport  ProtectedRoute from \"./PrivateRoute\";\nimport ShippingAddressScreen from './Screens/Shipping/ShippingScreen';\nimport PaymentMethodScreen from './Screens/Payment/Payment';\nimport PlaceOrderScreen from './Screens/PlaceOrderScreen/PlaceorderScreen';\nimport OrderScreen from \"./Screens/OrderScreen/OrderScreen\";\nimport ProfileScreen  from \"./Screens/ProfileScreen/ProfileScreen\";\nimport VerifyEmailScreen from \"./Screens/VerifyEmailScreen/VerifyEmailScreen\"\nimport ResetPasswordScreen from \"./Screens/ForgotPasswordScreen/ForgotReset\"\n\n//admin\nimport OrdersScreen from \"./Screens/AdminScreens/OrdersScreen/OrdersScreen\";\nimport ProductsScreen from \"./Screens/AdminScreens/ProductsScreen/ProductsScreen\";\n//material ui\n\n\nimport clsx from 'clsx';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\n\nimport Drawer from '@material-ui/core/Drawer';\n//icons\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { loadUser,logout} from \"./redux/actionCreator/UserActions\";\n\nconst drawerWidth = 240;\n//cookies\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  \n   hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    justifyContent: 'flex-end',\n  },\n  \n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(0),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: 0,\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginLeft: drawerWidth,\n  },\n\n}));\nfunction App(props) {\n  let history = useHistory();\n  const userInfo=props.userInfo;\n\n  useEffect(() => {\n //props.logout();\n    props.loadUser();\n  }, [])\n\n  const classes = useStyles();\n  const theme = useTheme();\n\n  //sidebar\n   const [open, setOpen] = React.useState(false);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n  return (\n    <BrowserRouter>\n      <div className=\"grid-container\">\n      <Navbar\n       handleDrawerOpen={handleDrawerOpen} \n       handleDrawerClose={handleDrawerClose}\n       history={history}\n       open={open}\n       classes={classes}\n       ></Navbar>       \n\n        <Drawer\n        className={classes.drawer}\n        variant=\"persistent\"\n        anchor=\"left\"\n        open={open}\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n      >\n       <div className={classes.drawerHeader}>\n          <IconButton onClick={handleDrawerClose}>\n          <CloseIcon></CloseIcon>\n          </IconButton>\n        </div>\n        <Divider />\n        <ul className=\"categories\">\n            <li>\n              <Link to=\"/category/Pants\">Pants</Link>\n            </li>\n\n            <li>\n              \n              <Link to=\"/category/Shirts\">Shirts</Link>\n            </li>\n            <li>\n              \n              <Link to=\"/category/mobile\">Mobile</Link>\n            </li>\n\n          </ul>\n      </Drawer>\n        <main  className={clsx(classes.content, {\n          [classes.contentShift]: open,\n        })}>\n\n          <Route path=\"/cart/:id/:qty\" component={withRouter(CartScreen)}></Route>          \n          <Route exact path=\"/cart\" component={withRouter(CartScreen)}></Route>\n          <Route path=\"/product/:id\" component={withRouter(ProductScreen)}></Route>\n          <Route path=\"/category/:id\" component={HomeScreen} />\n          <Route exact path=\"/\" component={withRouter(HomeScreen)} ></Route>\n          <ProtectedRoute exact path=\"/signup\" component={withRouter(RegisterScreen)} ></ProtectedRoute>\n          <ProtectedRoute path=\"/signin\" component={withRouter(SignInScreen)} />\n          <Route path=\"/shipping\" component={withRouter(ShippingAddressScreen)}></Route>\n          <Route exact path=\"/payment\" component={withRouter(PaymentMethodScreen)} ></Route>\n          <Route exact path=\"/placeorder\" component={withRouter(PlaceOrderScreen)} ></Route>          \n          <Route exact path=\"/order/:id\" component={withRouter(OrderScreen)} ></Route>               \n          <Route exact path=\"/profile\" component={withRouter(ProfileScreen)} ></Route>\n          <Route exact path=\"/admin/orders\" component={withRouter(OrdersScreen)} ></Route>\n          \n          <Route exact path=\"/verifyEmail\" component={withRouter(VerifyEmailScreen)} ></Route>\n          <Route exact path=\"/admin/products\" component={withRouter(ProductsScreen)} ></Route>          \n          <Route exact path=\"/resetPassword\" component={withRouter(ResetPasswordScreen)} ></Route>\n          \n                </main>\n\n        <footer className=\"row center\">All right reserved</footer>\n      </div>\n    </BrowserRouter>\n  );\n}\nconst mapStateToProps=({user})=>{\n  return {\n      loading:user.loading,\n      userInfo:user.userInfo,\n      error:user.userError_signin\n  }\n}\n\nexport default connect(mapStateToProps,{loadUser,logout})(App);","import {GET_ALL_PRODUCTS_FAIL,GET_ALL_PRODUCTS_SUCCESS,\r\n    GET_ALL_PRODUCTS ,\r\n    PRODUCT_DETAILS_SUCCESS,PRODUCT_DETAILS_REQUEST,\r\n    PRODUCT_DETAILS_FAIL,PRODUCT_SAVE_SUCCESS,PRODUCT_SAVE_REQUEST,PRODUCT_SAVE_FAIL,PRODUCT_DELETE_SUCCESS\r\n    ,PRODUCT_DELETE_REQUEST,PRODUCT_DELETE_FAIL,\r\n    PRODUCT_REVIEW_SAVE_SUCCESS,PRODUCT_REVIEW_SAVE_RESET,PRODUCT_REVIEW_SAVE_REQUEST,PRODUCT_REVIEW_SAVE_FAIL\r\n} from \"../actiontypes/index\";\r\n\r\nconst initialstate={\r\n    Allproducts:[],\r\n    loading:true,\r\n    error_fetching_products:null\r\n}\r\n\r\nexport const  ProductListReducer=(state=initialstate,action)=>{\r\nswitch(action.type){\r\n case GET_ALL_PRODUCTS:\r\n     return{\r\n        ...state,\r\n        loading:true    \r\n     }\r\n     \r\n case GET_ALL_PRODUCTS_SUCCESS:\r\n    return{\r\n        ...state,\r\n        loading:false,\r\n        Allproducts:action.payload\r\n     }\r\n \r\n case GET_ALL_PRODUCTS_FAIL:\r\n     return{\r\n        ...state,\r\n        loading:false,\r\n        error_fetching_products:action.payload\r\n     } \r\n default :\r\n return state;  \r\n}\r\n}\r\nexport const productDetailsReducer = (state = { product: {}, loading: true,error:null },  action\r\n  ) => {\r\n    switch (action.type) {\r\n      case PRODUCT_DETAILS_REQUEST:\r\n        return { loading: true };\r\n      case PRODUCT_DETAILS_SUCCESS:\r\n        return { loading: false, product: action.payload };\r\n      case PRODUCT_DETAILS_FAIL:\r\n        return { loading: false, error: action.payload };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n export const productSaveReducer=(state = { product: {},loading:false,error:null,success:null }, action)=>{\r\n\r\n    switch (action.type) {\r\n      case PRODUCT_SAVE_REQUEST:\r\n        return { ...state,loading: true };\r\n      case PRODUCT_SAVE_SUCCESS:\r\n        return { ...state,loading: false, success: true, product: action.payload };\r\n      case PRODUCT_SAVE_FAIL:\r\n        return { ...state,loading: false, error: action.payload ,success:false}\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n  \r\n  export const  productDeleteReducer=(state = { product: {},loading:false,error:null,success:null}, action)=>{\r\n    switch (action.type) {\r\n      case PRODUCT_DELETE_REQUEST:\r\n        return { ...state,loading: true };\r\n      case PRODUCT_DELETE_SUCCESS:\r\n        return {...state, loading: false, product: action.payload, success: true };\r\n      case PRODUCT_DELETE_FAIL:\r\n        return { ...state,loading: false, error: action.payload ,success: false }\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n  \r\n  export function productReviewSaveReducer(state = {loading:false,review:{},success:false}, action) {\r\n    switch (action.type) {\r\n      case PRODUCT_REVIEW_SAVE_REQUEST:\r\n        return { loading: true };\r\n      case PRODUCT_REVIEW_SAVE_SUCCESS:\r\n        return { loading: false, review: action.payload, success: true };\r\n      case PRODUCT_REVIEW_SAVE_FAIL:\r\n        return { loading: false, errror: action.payload };\r\n      case PRODUCT_REVIEW_SAVE_RESET:\r\n        return {};\r\n      default:\r\n        return state;\r\n    }\r\n  }","import { CART_ADD_ITEM, CART_REMOVE_ITEM,CART_SAVE_SHIPPING_ADDRESS,CART_SAVE_PAYMENT_METHOD} from \"../actiontypes/index\";\r\n\r\n//cookies\r\nimport Cookie from 'js-cookie';\r\n\r\n\r\nconst initialstate = { \r\n  cartItems:JSON.parse(localStorage.getItem('cartItems')) || [],\r\n  shippingAddress: JSON.parse(localStorage.getItem('shippingAddress')) || {} ,\r\n  paymentMethod: 'PayPal'\r\n}\r\n\r\nexport const cartReducer=(state = initialstate,action)=> {\r\n  switch (action.type) {\r\n    case CART_ADD_ITEM:\r\n      const item = action.payload;\r\n      const product = state.cartItems.find(x => x.product === item.product);\r\n      if (product) {\r\n        return {\r\n          ...state,\r\n          cartItems:\r\n            state.cartItems.map(x => x.product === product.product ? item : x)\r\n        };\r\n      }\r\n      return { ...state,cartItems: [...state.cartItems, item] };\r\n    case CART_REMOVE_ITEM:\r\n      return { ...state,cartItems: state.cartItems.filter(x => x.product !== action.payload) }\r\n      case CART_SAVE_SHIPPING_ADDRESS:\r\n        return { ...state, shippingAddress: action.payload };\r\n        case CART_SAVE_PAYMENT_METHOD:\r\n          return { ...state, paymentMethod: action.payload };\r\n    default:\r\n      return state\r\n  }\r\n\r\n}\r\n\r\n ","import { USER_SIGNIN_REQUEST,USER_UPDATE_SUCCESS,USER_UPDATE_REQUEST,USER_UPDATE_FAIL,\r\n  LOAD_USER,USER_LOGOUT,USER_SIGNIN_SUCCESS, USER_SIGNIN_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_REGISTER_FAIL } from \"../actiontypes/index\";\r\nconst initialState={\r\n    loading:true,\r\n    userInfo:{},\r\n    userError_signin:null,\r\n    userError_register:null\r\n}\r\n\r\nfunction userReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case USER_SIGNIN_REQUEST:\r\n      return {...state, loading: true };\r\n    case USER_SIGNIN_SUCCESS:\r\n      return { ...state,loading: false, userInfo: action.payload };\r\n   case LOAD_USER:\r\n        return { ...state,loading: false, userInfo: action.payload || null };\r\n    case USER_SIGNIN_FAIL:\r\n      return { ...state,loading: false, userError_signin: action.payload };\r\n    case USER_REGISTER_REQUEST:\r\n        return { ...state,loading: true };\r\n      case USER_REGISTER_SUCCESS:\r\n        return { ...state,loading: false, userInfo: action.payload };\r\n      case USER_REGISTER_FAIL:\r\n        return { ...state,loading: false, userError_register: action.payload };\r\n        case USER_LOGOUT:\r\n          return { ...state,loading: false, userInfo:{}};\r\n          case USER_UPDATE_REQUEST:\r\n      return { loading: true };\r\n    case USER_UPDATE_SUCCESS:\r\n      return { loading: false, userInfo: action.payload };\r\n    case USER_UPDATE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default: return state;\r\n  }\r\n}\r\n\r\n\r\nexport {\r\n  userReducer\r\n} ","import {\r\n    SEND_PASSWORD_RESET_CODE_FAIL,\r\n    SEND_PASSWORD_RESET_CODE_REQUEST,\r\n    SEND_PASSWORD_RESET_CODE_SUCCESS,\r\n    PASSWORD_RESET_FAIL,\r\n    PASSWORD_RESET_REQUEST,\r\n    PASSWORD_RESET_SUCCESS\r\n  } from \"../actiontypes/index\";\r\n\r\n  const initialstate={\r\n\r\n      codeSent:{status:false,msg:null},\r\n      passwordresetsuccess:{status:false,msg:null},\r\n      \r\n      codesentLoading:false,\r\n      passwordResetloading:false,\r\n\r\n      codeSentError:null,\r\n      passwordResetError:null\r\n\r\n   }\r\n\r\n export function passwordReset(state = initialstate, action) {\r\n    switch (action.type) {\r\n      case SEND_PASSWORD_RESET_CODE_REQUEST:\r\n        return { ...state,codesentLoading: true };\r\n\r\n      case SEND_PASSWORD_RESET_CODE_SUCCESS:\r\n        return {...state, codesentLoading: false, codeSent:{status:true,msg:action.payload},codeSentError:null };\r\n     \r\n        case SEND_PASSWORD_RESET_CODE_FAIL:\r\n        return {...state, codesentLoading: false, codeSentError:action.payload};\r\n       \r\n        case PASSWORD_RESET_REQUEST:\r\n        return {...state, passwordResetloading: true, };\r\n\r\n        case PASSWORD_RESET_SUCCESS:\r\n        return {...state, passwordResetloading: false,passwordResetError:null,codeSent:{},passwordresetsuccess:{status:true,msg:action.payload}};\r\n        case PASSWORD_RESET_FAIL:\r\n        return {...state, passwordResetloading: false, passwordResetError: action.payload ,};\r\n      default: return state;\r\n    }\r\n  }","import { combineReducers } from 'redux';\r\nimport{ ProductListReducer,productDetailsReducer,productSaveReducer,productReviewSaveReducer,productDeleteReducer }from './ProductReducer'\r\nimport {cartReducer} from \"./cartReducer\"\r\nimport {userReducer,} from \"./userReducer\"\r\nimport {passwordReset} from \"./passwordReset\"\r\nimport {orderCreateReducer,orderDetailsReducer,\r\n  orderPayReducer,myOrderListReducer,orderListReducer,orderDeleteReducer} from \"./OrderReducer\"\r\n\r\nexport default combineReducers({\r\n    productList:ProductListReducer,\r\n    productDetails:productDetailsReducer,\r\n    cart: cartReducer,\r\n    user:userReducer,    \r\n  productSave: productSaveReducer,\r\n  productDelete: productDeleteReducer,\r\n  createOrder:orderCreateReducer,\r\n  orderdetails:orderDetailsReducer,\r\n  orderPayment:orderPayReducer,\r\n  myOrderList: myOrderListReducer,\r\n  orderList: orderListReducer,\r\n  orderDelete: orderDeleteReducer,\r\n  productReviewSaveReducer:productReviewSaveReducer,\r\n  passwordReset:passwordReset\r\n\r\n});","import {\r\n    ORDER_CREATE_REQUEST, ORDER_CREATE_SUCCESS, ORDER_CREATE_FAIL,\r\n    ORDER_DETAILS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_DETAILS_FAIL,\r\n    ORDER_PAY_FAIL,ORDER_PAY_SUCCESS,ORDER_PAY_REQUEST,\r\n    MY_ORDER_LIST_SUCCESS,MY_ORDER_LIST_REQUEST,MY_ORDER_LIST_FAIL,\r\n    ORDER_LIST_FAIL,ORDER_LIST_REQUEST,ORDER_LIST_SUCCESS,\r\n    ORDER_DELETE_FAIL,ORDER_DELETE_REQUEST,ORDER_DELETE_SUCCESS\r\n  } from \"../actiontypes/index\";\r\n  \r\n  //create order  \r\n  function orderCreateReducer(state = {loading:false,order:{},success:false,error:null}, action) {\r\n    switch (action.type) {\r\n      case ORDER_CREATE_REQUEST:\r\n        return { ...state,loading: true };\r\n      case ORDER_CREATE_SUCCESS:\r\n        return {...state, loading: false, order: action.payload, success: true };\r\n      case ORDER_CREATE_FAIL:\r\n        return {...state, loading: false, error: action.payload ,success:false};\r\n      default: return state;\r\n    }\r\n  }\r\n  \r\n//payment scree shows order details\r\n  function orderDetailsReducer(state = {\r\n    loading:false,\r\n    order: {       \r\n      orderItems: [],\r\n      shipping: {},\r\n      payment: {},\r\n      \r\n    },\r\n    error:null\r\n  }, action) {\r\n    switch (action.type) {\r\n      case ORDER_DETAILS_REQUEST:\r\n        return { loading: true };\r\n      case ORDER_DETAILS_SUCCESS:\r\n        return {...state, loading: false, order: action.payload};\r\n      case ORDER_DETAILS_FAIL:\r\n        return { ...state,loading: false, error: action.payload };\r\n      default: return state;\r\n    }\r\n  }\r\n\r\n  //payment starts\r\n  function orderPayReducer(state = {\r\n    loading:false,\r\n    success:false,\r\n    order: {\r\n      orderItems: [],\r\n      shipping: {},\r\n      payment: {}\r\n    },\r\n    error:null\r\n  }, action) {\r\n    switch (action.type) {\r\n      case ORDER_PAY_REQUEST:\r\n        return { loading: true };\r\n      case ORDER_PAY_SUCCESS:\r\n        return { loading: false, success: true };\r\n      case ORDER_PAY_FAIL:\r\n        return { loading: false, error: action.payload };\r\n      default: return state;\r\n    }\r\n  }\r\n//in profile screen orders with uid\r\n  function myOrderListReducer(state = {\r\n    orders: []\r\n  }, action) {\r\n    switch (action.type) {\r\n      case MY_ORDER_LIST_REQUEST:\r\n        return { loading: true };\r\n      case MY_ORDER_LIST_SUCCESS:\r\n        return { loading: false, orders: action.payload };\r\n      case MY_ORDER_LIST_FAIL:\r\n        return { loading: false, error: action.payload };\r\n      default: return state;\r\n    }\r\n  }\r\n  //------------------------admin\r\n\r\n  //admin all existing orders\r\n  function orderListReducer(state = {\r\n    orders: []\r\n  }, action) {\r\n    switch (action.type) {\r\n      case ORDER_LIST_REQUEST:\r\n        return { loading: true };\r\n      case ORDER_LIST_SUCCESS:\r\n        return { loading: false, orders: action.payload };\r\n      case ORDER_LIST_FAIL:\r\n        return { loading: false, error: action.payload };\r\n      default: return state;\r\n    }\r\n  }\r\n  \r\n  function orderDeleteReducer(state = {\r\n    order: {\r\n      orderItems: [],\r\n      shipping: {},\r\n      payment: {}\r\n    }\r\n  }, action) {\r\n    switch (action.type) {\r\n      case ORDER_DELETE_REQUEST:\r\n        return { loading: true };\r\n      case ORDER_DELETE_SUCCESS:\r\n        return { loading: false, success: true };\r\n      case ORDER_DELETE_FAIL:\r\n        return { loading: false, error: action.payload };\r\n      default: return state;\r\n    }\r\n  }\r\n\r\n  \r\n  export { orderCreateReducer, orderDetailsReducer ,orderPayReducer,myOrderListReducer,orderListReducer,orderDeleteReducer} ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\n\n//redux\nimport reducers from './redux/reducers/rootReducer';\nimport { createStore, applyMiddleware } from 'redux';\nimport reduxThunk from 'redux-thunk';\nimport {composeWithDevTools} from \"redux-devtools-extension\"\nimport { Provider } from 'react-redux';\n\n\n\nconst store = createStore(reducers, {},composeWithDevTools(applyMiddleware(reduxThunk)));\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}
{"version":3,"sources":["redux/actionCreator/utils/setAuthToken.js","redux/actionCreator/UserActions.js","redux/actiontypes/index.js","components/Navbar/Navbar.js","components/Ratings/Rating.js","components/Item/Item.js","components/Loading/LoadingBox.js","redux/actionCreator/ProductActions.js","components/ErrorBox/ErrorBox.js","Screens/HomeScreen/HomeScreen.js","components/Ratings/RatingProduct.js","Screens/ProductScreen/ProductScreen.js","Screens/Cart/cartScreen.js","redux/actionCreator/CartActions.js","Screens/Signup/signup.js","Screens/Signin/signin.js","PrivateRoute.js","components/CheckoutSteps.js","Screens/Shipping/ShippingScreen.js","Screens/Payment/Payment.js","Screens/PlaceOrderScreen/PlaceorderScreen.js","redux/actionCreator/OrderActions.js","components/PaypalButton.js","Screens/OrderScreen/OrderScreen.js","Screens/ProfileScreen/ProfileScreen.js","Screens/VerifyEmailScreen/VerifyEmailScreen.js","Screens/ForgotPasswordScreen/ForgotReset.js","redux/actionCreator/PasswordReset.js","Screens/AdminScreens/OrdersScreen/OrdersScreen.js","firebase/firebase.js","Screens/AdminScreens/ProductsScreen/ProductsScreen.js","App.js","redux/reducers/ProductReducer.js","redux/reducers/cartReducer.js","redux/reducers/userReducer.js","redux/reducers/passwordReset.js","redux/reducers/rootReducer.js","redux/reducers/OrderReducer.js","index.js"],"names":["setAuthToken","token","console","log","axios","defaults","headers","common","loadUser","dispatch","localStorage","getItem","setToken","type","payload","JSON","parse","logout","history","removeItem","useStyles","makeStyles","theme","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","width","marginLeft","easeOut","enteringScreen","hide","display","drawer","flexShrink","drawerPaper","drawerHeader","alignItems","padding","spacing","justifyContent","content","flexGrow","contentShift","connect","user","cart","loading","userInfo","error","userError_signin","cartItems","props","classes","useTheme","className","clsx","open","style","marginTop","IconButton","aria-label","onClick","handleDrawerOpen","color","fontSize","to","Badge","badgeContent","length","name","margin","variant","window","location","reload","push","isAdmin","href","Rating","rating","numReviews","Box","component","mb","borderColor","value","readOnly","Product","product","key","_id","class","src","image","alt","lineHeight","category","brand","description","countInStocky","price","LoadingBox","getAllProducts","searchKeyword","sortOrder","a","get","response","data","message","Alert","elevation","ErrorBox","msg","alert","severity","productList","products","Allproducts","error_fetching_products","useState","setSearchKeyword","setSortOrder","match","params","id","useEffect","getdata","onSubmit","e","preventDefault","onChange","target","laoding","map","RatingProduct","productDetails","productReviewSaveReducer","productLoading","product_fetching_error","productReviewSave","getProductDetails","productId","saveProductReview","review","getState","post","reviewLoading","success","qty","setQty","setRating","comment","setComment","Math","floor","countInStock","Array","keys","x","reviews","createdAt","substring","size","event","newValue","htmlFor","addToCart","Axios","setItem","stringify","removeFromCart","item","removeFromCartHandler","reduce","c","parseInt","disabled","userError_register","register","email","password","setName","setEmail","setPassword","required","signin","setdata","redirect","search","split","ProtectedRoute","Comp","path","loggedIn","shipping","rest","render","CheckoutSteps","step1","step2","step3","step4","shippingAddress","saveShippingAddress","fullName","setFullName","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","placeholder","savePaymentMethod","paymentMethod","setPaymentMethod","checked","createOrder","createOrderdata","order","newOrder","itemsPrice","shippingPrice","taxPrice","totalPrice","orderItems","PaypalButton","sdkReady","setSdkReady","addPaypalSdk","result","clientID","script","document","createElement","async","onload","body","appendChild","paypal","Button","Buttons","driver","React","ReactDOM","actions","purchase_units","amount","currency_code","onApprove","capture","then","details","onSuccess","catch","err","orderDetails","orderdetails","orderPayment","detailsOrder","orderId","payOrder","paymentResult","userSignin","put","successPay","isDelivered","deliveredAt","isPaid","paidAt","userUpdate","myOrderList","listMyOrders","update","userId","loadingOrders","orders","errorOrders","VerifyEmailScreen","passwordReset","sendVerificationCode","resetPassword","setOpen","handleClose","reason","codeSent","status","passwordresetsuccess","codesentLoading","Snackbar","onClose","codeSentError","passwordResetloading","passwordResetError","orderList","orderDelete","deleteOrder","delete","listOrders","successDelete","toString","deleteHandler","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","productDelete","productSave","saveProduct","deleteProdcut","modalVisible","setModalVisible","setId","setPrice","setBrand","setCategory","setCountInStock","setDescription","uploading","setUploading","setImage","preview","setpreview","loadingSave","successSave","errorSave","loadingDelete","errorDelete","openModal","URL","createObjectURL","files","file","FormData","append","ref","on","snapShot","child","getDownloadURL","fireBaseUrl","height","NotFound","useHistory","handleDrawerClose","Drawer","anchor","paper","Divider","withRouter","CartScreen","exact","ProductScreen","HomeScreen","RegisterScreen","SignInScreen","ShippingAddressScreen","PaymentMethodScreen","PlaceOrderScreen","OrderScreen","ProfileScreen","OrdersScreen","ProductsScreen","ResetPasswordScreen","initialstate","initialState","combineReducers","state","action","find","filter","payment","store","createStore","reducers","composeWithDevTools","applyMiddleware","reduxThunk","getElementById"],"mappings":"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","file":"static/js/main.61b80ec9.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst setAuthToken = (token) => {\r\n  console.log(\"token in setToken   :\"+token);  \r\n  if (token) {\r\n    axios.defaults.headers.common['x-auth-token'] = token;\r\n  } else {\r\n    delete axios.defaults.headers.common['x-auth-token'];\r\n  }\r\n};\r\n\r\n\r\nexport default setAuthToken;","import Axios from \"axios\";\r\nimport Cookie from 'js-cookie';\r\nimport setToken from \"./utils/setAuthToken\"\r\nimport { USER_SIGNIN_REQUEST, USER_SIGNIN_SUCCESS,LOAD_USER, USER_SIGNIN_FAIL, USER_LOGOUT,\r\n  USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_REGISTER_FAIL,\r\nUSER_UPDATE_FAIL,USER_UPDATE_REQUEST,USER_UPDATE_SUCCESS\r\n} from \"../actiontypes/index\";\r\n\r\n\r\n\r\nexport const loadUser=()=>(dispatch)=>{\r\n  if(localStorage.getItem(\"token\")){   \r\n  setToken((localStorage.getItem(\"token\")));\r\n // console.log(localStorage.getItem(\"userInfo\"));\r\n  dispatch({ type: LOAD_USER, payload:JSON.parse(localStorage.getItem(\"userInfo\"))});\r\n  }else{    \r\n  dispatch({ type: LOAD_USER, payload: localStorage.getItem(\"userInfo\") });\r\n  }\r\n\r\n}\r\n\r\n\r\nexport const signin = (email, password) => async (dispatch) => {\r\n  dispatch({ type: USER_SIGNIN_REQUEST, payload: { email, password } });\r\n  try {\r\n    const { data } = await Axios.post(\"/api/users/signin\", { email, password });\r\n    dispatch({ type: USER_SIGNIN_SUCCESS, payload: data });     \r\n    localStorage.setItem(\"userInfo\",JSON.stringify(data));    \r\n  console.log( localStorage.getItem(\"userInfo\"));\r\n    localStorage.setItem(\"token\",data.token);    \r\n    setToken(data.token); \r\n  } catch (error) {\r\n    console.log(error.response);\r\n    dispatch({ type: USER_SIGNIN_FAIL, payload: error.response.data.msg });\r\n  }\r\n}\r\n\r\nexport const  register = (name, email, password,history) => async (dispatch) => {\r\n  dispatch({ type: USER_REGISTER_REQUEST, payload: { name, email, password } });\r\n  try {\r\n    const { data } = await Axios.post(\"/api/users/register\", { name, email, password });\r\n\r\n    dispatch({ type: USER_REGISTER_SUCCESS, });\r\n   \r\n\r\n  //  Cookie.set('userInfo', JSON.stringify(data));\r\n  //  localStorage.setItem(\"userInfo\",data);\r\n  //  setToken(data.token); \r\n  //  localStorage.setItem(\"token\",data.token);\r\n\r\n  } catch (error) {\r\n    dispatch({ type: USER_REGISTER_FAIL, payload: error.message});\r\n  }\r\n\r\n}\r\n\r\nexport const update = ({ userId, name, email, password }) => async (dispatch, getState) => {\r\n  const { user: { userInfo } } = getState();\r\n  dispatch({ type: USER_UPDATE_REQUEST, payload: { userId, name, email, password } });\r\n  try {\r\n    const { data } = await Axios.put(\"/api/users/\" + userId,\r\n      { name, email, password }, {\r\n      headers: {\r\n        \"x-auth-token\": localStorage.getItem(\"token\") \r\n      }\r\n    });\r\n    dispatch({ type: USER_UPDATE_SUCCESS, payload: data });\r\n    localStorage.setItem('userInfo', data);\r\n  } catch (error) {\r\n    dispatch({ type: USER_UPDATE_FAIL, payload: error.message });\r\n  }\r\n\r\n}\r\n\r\n\r\nexport const logout = () => (dispatch,history) => {\r\n//  alert(\"log\")\r\n // Cookie.remove(\"userInfo\");  \r\n  localStorage.removeItem('userInfo');\r\n  localStorage.removeItem('token');  \r\n  localStorage.removeItem('shippingAddress');  \r\n//  localStorage.removeItem('cartItems');\r\n\r\n  setToken(null); \r\n  dispatch({ type: USER_LOGOUT });\r\n //history.push(\"/\")\r\n\r\n}\r\n","export const GET_ALL_PRODUCTS=\"GET_ALL_PRODUCTS\";\r\nexport const GET_ALL_PRODUCTS_SUCCESS=\"GET_ALL_PRODUCTS_SUCCESS\";\r\nexport const GET_ALL_PRODUCTS_FAIL=\"GET_ALL_PRODUCTS_FAIL\";\r\n\r\nexport const PRODUCT_DETAILS_FAIL=\"PRODUCT_DETAILS_FAIL\";\r\nexport const PRODUCT_DETAILS_REQUEST=\"PRODUCT_DETAILS_REQUEST\";\r\nexport const PRODUCT_DETAILS_SUCCESS=\"PRODUCT_DETAILS_SUCCESS\";\r\n\r\nexport const CART_ADD_ITEM = 'CART_ADD_ITEM';\r\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM'; \r\nexport const   CART_SAVE_SHIPPING_ADDRESS=\"  CART_SAVE_SHIPPING_ADDRESS\";\r\nexport const  CART_SAVE_PAYMENT_METHOD=\" CART_SAVE_PAYMENT_METHOD,\"\r\n\r\nexport const USER_SIGNIN_REQUEST = 'USER_SIGNIN_REQUEST';\r\nexport const USER_SIGNIN_SUCCESS = 'USER_SIGNIN_SUCCESS';\r\nexport const USER_SIGNIN_FAIL = 'USER_SIGNIN_FAIL';\r\n\r\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST';\r\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS';\r\nexport const USER_REGISTER_FAIL = 'USER_REGISTER_FAIL';\r\n\r\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST';\r\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS';\r\nexport const USER_UPDATE_FAIL = 'USER_UPDATE_FAIL';\r\n\r\n\r\nexport const USER_LOGOUT = 'USER_LOGOUT';\r\nexport const LOAD_USER = 'LOAD_USER';\r\n\r\nexport const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST';\r\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS';\r\nexport const ORDER_CREATE_FAIL = 'ORDER_CREATE_FAIL';\r\n\r\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST';\r\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS';\r\nexport const ORDER_DETAILS_FAIL = 'ORDER_DETAILS_FAIL';\r\n\r\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST';\r\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS';\r\nexport const ORDER_PAY_FAIL = 'ORDER_PAY_FAIL'; \r\n\r\n\r\nexport const MY_ORDER_LIST_REQUEST = 'MY_ORDER_LIST_REQUEST';\r\nexport const MY_ORDER_LIST_SUCCESS = 'MY_ORDER_LIST_SUCCESS';\r\nexport const MY_ORDER_LIST_FAIL = 'MY_ORDER_LIST_FAIL';\r\n\r\nexport const PRODUCT_REVIEW_SAVE_REQUEST = 'PRODUCT_REVIEW_SAVE_REQUEST';\r\nexport const PRODUCT_REVIEW_SAVE_SUCCESS = 'PRODUCT_REVIEW_SAVE_SUCCESS';\r\nexport const PRODUCT_REVIEW_SAVE_FAIL = 'PRODUCT_REVIEW_SAVE_FAIL';\r\nexport const PRODUCT_REVIEW_SAVE_RESET = 'PRODUCT_REVIEW_SAVE_RESET';\r\n\r\n//password Reset\r\nexport const SEND_PASSWORD_RESET_CODE_REQUEST = 'SEND_PASSWORD_RESET_CODE_REQUEST';\r\nexport const SEND_PASSWORD_RESET_CODE_SUCCESS = 'SEND_PASSWORD_RESET_CODE_SUCCESS';\r\nexport const SEND_PASSWORD_RESET_CODE_FAIL = 'SEND_PASSWORD_RESET_CODE_SUCCESS_FAIL';\r\n\r\nexport const PASSWORD_RESET_REQUEST = 'PASSWORD_RESET_REQUEST';\r\nexport const PASSWORD_RESET_FAIL = 'PASSWORD_RESET_FAIL';\r\nexport const PASSWORD_RESET_SUCCESS= 'PASSWORD_RESET_SUCCESS';\r\n\r\n\r\n//admin\r\nexport const PRODUCT_SAVE_REQUEST = 'PRODUCT_SAVE_REQUEST';\r\nexport const PRODUCT_SAVE_SUCCESS = 'PRODUCT_SAVE_SUCCESS';\r\nexport const PRODUCT_SAVE_FAIL = 'PRODUCT_SAVE_FAIL';\r\n\r\nexport const PRODUCT_DELETE_REQUEST = 'PRODUCT_DELETE_REQUEST';\r\nexport const PRODUCT_DELETE_SUCCESS = 'PRODUCT_DELETE_SUCCESS';\r\nexport const PRODUCT_DELETE_FAIL = 'PRODUCT_DELETE_FAIL'\r\n\r\nexport const ORDER_LIST_REQUEST = 'ORDER_LIST_REQUEST';\r\nexport const ORDER_LIST_SUCCESS = 'ORDER_LIST_SUCCESS';\r\nexport const ORDER_LIST_FAIL = 'ORDER_LIST_FAIL';\r\n\r\nexport const ORDER_DELETE_REQUEST = 'ORDER_DELETE_REQUEST';\r\nexport const ORDER_DELETE_SUCCESS = 'ORDER_DELETE_SUCCESS';\r\nexport const ORDER_DELETE_FAIL = 'ORDER_DELETE_FAIL';\r\n","import React from 'react'\r\nimport clsx from 'clsx';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport { BrowserRouter, Route,Link,withRouter,useHistory} from 'react-router-dom';\r\nimport \"./Navbar.css\"\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport {connect  } from \"react-redux\";\r\n\r\nimport Drawer from '@material-ui/core/Drawer';\r\n//icons\r\n\r\nimport Badge from '@material-ui/core/Badge';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\n\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { loadUser,logout} from \"../../redux/actionCreator/UserActions\";\r\n\r\nconst drawerWidth = 240;\r\nconst useStyles = makeStyles((theme) => ({\r\n    appBar: {\r\n      transition: theme.transitions.create(['margin', 'width'], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n    },\r\n    appBarShift: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      marginLeft: drawerWidth,\r\n      transition: theme.transitions.create(['margin', 'width'], {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n    },\r\n    \r\n     hide: {\r\n      display: 'none',\r\n    },\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n    },\r\n    drawerHeader: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      padding: theme.spacing(0, 1),\r\n      justifyContent: 'flex-end',\r\n    },\r\n    \r\n    content: {\r\n      flexGrow: 1,\r\n      padding: theme.spacing(0),\r\n      transition: theme.transitions.create('margin', {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n      marginLeft: 0,\r\n    },\r\n    contentShift: {\r\n      transition: theme.transitions.create('margin', {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n      marginLeft: drawerWidth,\r\n    },\r\n  \r\n  }));\r\nfunction Navbar(props) {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const userInfo=props.userInfo;\r\n    return (\r\n        <div>\r\n             <header className=\"row\"\r\n          className=\r\n          {clsx(classes.appBar, {\r\n          [classes.appBarShift]: props.open,\r\n        })}>   \r\n          <div   style={{display: \"flex\", justifyContent: \" space-between\",}}>\r\n          <div style={{marginTop:\"5px\"}}>\r\n        <IconButton\r\n            aria-label=\"open drawer\"\r\n            onClick={props.handleDrawerOpen}\r\n            style={{color:\"white\",}}\r\n          >\r\n            <MenuIcon style={{fontSize:\"20px\"}}/>\r\n          </IconButton>\r\n            <Link className=\"brand\" to=\"/\">\r\n              Amazon\r\n            </Link>\r\n            </div>  \r\n            <div className=\"header-links\">\r\n            <div style={{marginTop:\"15px\"}}>\r\n\r\n            <Link to=\"/cart\">\r\n                    <Badge badgeContent={props.cartItems.length || 0} color=\"primary\">\r\n                <ShoppingCartIcon style={{fontSize:30}}/>\r\n            </Badge>\r\n            </Link>\r\n            {\r\n              userInfo ? <Link to=\"/profile\">{userInfo.name}</Link> :\r\n                <Link to=\"/signin\">Sign In</Link>\r\n            }             \r\n\r\n            {props.userInfo&&<Button style={{margin:\"0 20px \"}} variant=\"contained\" onClick={()=>{\r\n               props.logout();\r\n               window.location.reload(false);\r\n               props.history.push(\"/\")\r\n              \r\n              }}>Logout</Button>}  \r\n               \r\n\r\n            {userInfo && userInfo.isAdmin && (\r\n              <div className=\"dropdown\">\r\n                <a href=\"#\"  >Admin</a>\r\n                <ul className=\"dropdown-content\">\r\n                  <li>\r\n                    <Link to=\"/admin/orders\">Orders</Link>\r\n                    <Link to=\"/admin/products\">Products</Link>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            )}     \r\n              </div>         \r\n           \r\n          </div>\r\n          \r\n            </div>    \r\n        \r\n        </header>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps=({user,cart})=>{\r\n    return {\r\n        loading:user.loading,\r\n        userInfo:user.userInfo,\r\n        error:user.userError_signin,\r\n        cartItems:cart.cartItems\r\n    }\r\n  }\r\n  \r\n  export default connect(mapStateToProps,{loadUser,logout})(Navbar);\r\n\r\n","import React from 'react';\r\n\r\nimport Rate from '@material-ui/lab/Rating';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nexport default function Rating(props) {\r\n  const { rating, numReviews } = props;\r\n  //console.log(rating);\r\n\r\n  return (\r\n    <div className=\"\">\r\n     <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">        \r\n     <Rate name=\"read-only\" value={rating} readOnly /><br/>\r\n      <span>{numReviews + ' reviews'}</span>\r\n      </Box>\r\n       \r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport Rating from '../Ratings/Rating';\r\nimport \"./Item.css\"\r\nimport { withRouter } from 'react-router-dom';\r\n\r\n\r\nimport { Link } from 'react-router-dom';\r\nimport { PRODUCT_DETAILS_FAIL } from '../../redux/actiontypes';\r\n\r\n function Product(props) {\r\n  \r\n  const { product } = props;\r\n  return (\r\n    <div key={product._id} class=\"card\">\r\n      <Link to={`/product/${product._id}`}>\r\n        <img className=\"medium\" src={product.image} alt={product.name} />\r\n      </Link>\r\n      <div class=\"card-body\">\r\n        <Link to={`/product/${product._id}`}>\r\n          <h2>{product.name}</h2>\r\n        </Link>\r\n        <div style={{lineHeight:\"0px\"}}>\r\n        <h6>{product.category}</h6>\r\n        <h5>{product.brand}</h5>\r\n        <h6>{product.description}</h6>\r\n        <h4>{product.countInStocky}</h4>       \r\n        <div className=\"price\">${product.price}</div>\r\n        </div>\r\n        <Rating\r\n          rating={product.rating}\r\n          numReviews={product.numReviews}\r\n        ></Rating>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;","import React from 'react'\r\nimport \"./Loading.css\"\r\n\r\nfunction LoadingBox() {\r\n  //  alert(\"laoding\")\r\n    return (\r\n        <div class=\"sk-circle\">\r\n        <div class=\"sk-circle1 sk-child\"></div>\r\n        <div class=\"sk-circle2 sk-child\"></div>\r\n        <div class=\"sk-circle3 sk-child\"></div>\r\n        <div class=\"sk-circle4 sk-child\"></div>\r\n        <div class=\"sk-circle5 sk-child\"></div>\r\n        <div class=\"sk-circle6 sk-child\"></div>\r\n        <div class=\"sk-circle7 sk-child\"></div>\r\n        <div class=\"sk-circle8 sk-child\"></div>\r\n        <div class=\"sk-circle9 sk-child\"></div>\r\n        <div class=\"sk-circle10 sk-child\"></div>\r\n        <div class=\"sk-circle11 sk-child\"></div>\r\n        <div class=\"sk-circle12 sk-child\"></div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default LoadingBox\r\n","import {GET_ALL_PRODUCTS,GET_ALL_PRODUCTS_FAIL,\r\n  GET_ALL_PRODUCTS_SUCCESS,PRODUCT_DETAILS_FAIL,PRODUCT_DETAILS_REQUEST,\r\n  PRODUCT_DETAILS_SUCCESS,PRODUCT_DELETE_FAIL,PRODUCT_DELETE_REQUEST,PRODUCT_DELETE_SUCCESS,\r\n  PRODUCT_SAVE_FAIL,PRODUCT_SAVE_REQUEST,PRODUCT_SAVE_SUCCESS,\r\n  PRODUCT_REVIEW_SAVE_FAIL,PRODUCT_REVIEW_SAVE_REQUEST,PRODUCT_REVIEW_SAVE_RESET,PRODUCT_REVIEW_SAVE_SUCCESS\r\n\r\n} from \"../actiontypes\"\r\nimport axios from \"axios\"\r\n\r\n\r\n\r\nexport const getAllProducts=(category = '', searchKeyword = '', sortOrder = '')=>async (dispatch)=>{\r\n  //request starts loading\r\n\r\n  dispatch({\r\n      type:GET_ALL_PRODUCTS\r\n  })\r\n  //\r\n  try { \r\n    const response= await axios.get(\"/api/products?category=\" + category +\r\n      \"&searchKeyword=\" + searchKeyword + \"&sortOrder=\" + sortOrder);\r\n      console.log(response);\r\n      dispatch({\r\n        type:GET_ALL_PRODUCTS_SUCCESS,\r\n        payload:response.data\r\n    })\r\n  } catch (error) {\r\n    dispatch({\r\n        type:GET_ALL_PRODUCTS_FAIL,\r\n        payload:error.message\r\n    })\r\n  }\r\n\r\n}\r\nexport const getProductDetails = (productId) => async (dispatch) => {\r\n  dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\r\n  try {\r\n    const response = await axios.get(`/api/products/${productId}`);\r\n    console.log(response);\r\n\r\n    dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: response.data });\r\n    \r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_DETAILS_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\n//review\r\nexport const saveProductReview = (productId, review) => async (dispatch, getState) => {\r\n  try {\r\n\r\n    dispatch({ type: PRODUCT_REVIEW_SAVE_REQUEST, payload: review });\r\n    const { data } = await axios.post(\r\n      `/api/products/${productId}/reviews`,\r\n      review,\r\n      {\r\n        headers:  {  \"x-auth-token\": localStorage.getItem(\"token\") }\r\n      }\r\n    );\r\n    dispatch({ type: PRODUCT_REVIEW_SAVE_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    // report error\r\n    dispatch({ type: PRODUCT_REVIEW_SAVE_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\n//ADMIN PRIVILEDGES\r\n//UPDATE PRODUCT\r\nexport const saveProduct = (product) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_SAVE_REQUEST, payload: product });\r\n    if (!product._id) {\r\n      const { data } = await axios.post('/api/products', product);\r\n      dispatch({ type: PRODUCT_SAVE_SUCCESS, payload: data });\r\n    } else {\r\n      const { data } = await axios.put('/api/products/' + product._id, product);\r\n      dispatch({ type: PRODUCT_SAVE_SUCCESS, payload: data });\r\n    }\r\n\r\n  } catch (error) {\r\n\r\n    dispatch({ type: PRODUCT_SAVE_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\n//DELETE PRODUCT\r\nexport const deleteProdcut = (productId) => async (dispatch, getState) => {\r\n  try {\r\n   \r\n    dispatch({ type: PRODUCT_DELETE_REQUEST, payload: productId });\r\n    const { data } = await axios.delete(\"/api/products/\" + productId);\r\n    dispatch({ type: PRODUCT_DELETE_SUCCESS, payload: data, success: true });\r\n  } catch (error) {\r\n    dispatch({ type: PRODUCT_DELETE_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\n","import React from 'react'\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\nfunction ErrorBox({msg,type}) {\r\n  alert(\"er\")\r\n    return (\r\n        <div>\r\n      {type && <Alert severity=\"error\">{msg}</Alert> }\r\n      {!type && <Alert severity=\"success\">{msg}</Alert> }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ErrorBox\r\n","import React,{useEffect,useState}from 'react';\r\nimport Product from '../../components/Item/Item';\r\nimport { connect } from 'react-redux';\r\nimport Loading from \"../../components/Loading/LoadingBox\";\r\nimport {getAllProducts} from \"../../redux/actionCreator/ProductActions\"\r\nimport { get } from 'lodash';\r\nimport MessageBox from \"../../components/ErrorBox/ErrorBox\"\r\nimport \"./HomeScreen.css\"\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n function HomeScreen(props) {\r\n  const [searchKeyword, setSearchKeyword] = useState('');\r\n  const [sortOrder, setSortOrder] = useState('');\r\n  const category = props.match.params.id ? props.match.params.id : '';\r\n  \r\n  useEffect(() => {  \r\n    async function getdata(){\r\n        props.getAllProducts(category);\r\n    }\r\n    getdata()\r\n   \r\n  }, [category])\r\n  \r\n  useEffect(() => {  \r\n    props.getAllProducts(category, searchKeyword, sortOrder)\r\n   \r\n  }, [sortOrder])\r\n  \r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n   props.getAllProducts(category, searchKeyword, sortOrder)\r\n  }\r\n  const sortHandler = (e) => {\r\n    setSortOrder(e.target.value);\r\n   \r\n  }\r\n\r\n  return (\r\n    <div>\r\n    {category &&\r\n    <div>\r\n    <div className=\"back-to-result\">\r\n        <Link to=\"/\">Back to result</Link>\r\n      </div>\r\n      <h2>{category}</h2>\r\n      </div>\r\n      }    \r\n\r\n   { !category && <ul className=\"filter\">\r\n      <li>\r\n        <form onSubmit={submitHandler}>\r\n          <input name=\"searchKeyword\" onChange={(e) => setSearchKeyword(e.target.value)} />\r\n          <button type=\"submit\">Search</button>\r\n        </form>\r\n      </li>\r\n      <li>\r\n        Sort By {' '}\r\n        <select name=\"sortOrder\" onChange={sortHandler}>\r\n          <option value=\"\">Newest</option>\r\n          <option value=\"lowest\">Lowest</option>\r\n          <option value=\"highest\">Highest</option>\r\n        </select>\r\n      </li>\r\n    </ul>}\r\n    {props.loading && <Loading></Loading>}\r\n    {props.error && <MessageBox msg={props.error} type=\"1\"></MessageBox>}\r\n    {!props.laoding &&\r\n     <div className=\"row center\">\r\n        { props.products&& props.products.map((product) => (\r\n          <Product key={product._id} product={product}></Product>\r\n        ))}\r\n      </div>\r\n   }\r\n   </div>\r\n  );\r\n}\r\nconst MapStateToProps=({productList})=>{\r\n  return {\r\n  products:productList.Allproducts,\r\n  error:productList.error_fetching_products,\r\n  loading:productList.loading\r\n   }\r\n  \r\n}\r\nexport default connect(MapStateToProps,{getAllProducts})(HomeScreen);","import React from 'react';\r\n\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nexport default function RatingProduct(props) {\r\n  const { rating,  } = props;\r\n  console.log(rating);\r\n  return (\r\n    <>\r\n     <Box  borderColor=\"transparent\">        \r\n        <Rating name=\"read-only\" value={rating} readOnly /><br/>\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Rating1 from '../../components/Ratings/RatingProduct';\r\nimport RatingProduct from '../../components/Ratings/RatingProduct';\r\nimport { getProductDetails,saveProductReview} from \"../../redux/actionCreator/ProductActions\";\r\nimport {connect  } from \"react-redux\";\r\n\r\n\r\nimport Loading from \"../../components/Loading/LoadingBox\";\r\nimport MessageBox from \"../../components/ErrorBox/ErrorBox\"\r\n\r\nimport \"./ProductScreen.css\"\r\n\r\nimport Rating  from '@material-ui/lab/Rating';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\n\r\n function ProductScreen(props) {\r\n\r\n  \r\n  const {loading:{reviewLoading},success} =props.productReviewSave\r\n  useEffect(() => {\r\n   //alert(props.match.params.id);\r\n   async function getdata(){\r\n       props.getProductDetails(props.match.params.id);\r\n   }\r\n   getdata();\r\n  }, [success])\r\n  \r\nconst [qty, setQty] = useState(1);\r\nconst [rating, setRating] = useState(0);\r\n  const [comment, setComment] = useState('');\r\n  const { userInfo } = props.user;\r\n\r\n\r\nconst submitHandler = (e) => {\r\n  e.preventDefault();\r\n  // dispatch actions\r\n props.saveProductReview(props.match.params.id, {\r\n      name: userInfo.name,\r\n      rating: rating,\r\n      comment: comment,\r\n    })\r\n    setRating(0);\r\n    setComment('')\r\n\r\n};\r\n  const {product,productLoading,product_fetching_error} =props;\r\n\r\n  if (!product && !productLoading) {\r\n    return <div> Product Not Found</div>;\r\n  }\r\n     return  (\r\n    <div>\r\n    {productLoading && <Loading></Loading>}\r\n    {reviewLoading && <Loading></Loading>}\r\n    {product_fetching_error && <MessageBox msg={props.error} type=\"1\"></MessageBox>}\r\n    {!productLoading && \r\n    <div>\r\n     <div className=\"back-to-result\">\r\n        <Link to=\"/\">Back to result</Link>\r\n      </div>\r\n      <div className=\"details\">\r\n        <div className=\"details-image\">\r\n          <img className=\"pro_image\" src={product.image} alt={product.name}></img>\r\n        </div>\r\n            <div className=\"details-info\">\r\n              <ul>\r\n                <li>\r\n                  <h4>{product.name}</h4>\r\n                </li>\r\n                <li>\r\n              <Rating1\r\n                rating={Math.floor(product.rating)}\r\n                numReviews={product.numReviews}\r\n              ></Rating1>\r\n            </li>\r\n                <li>\r\n                  Price: <b>${product.price}</b>\r\n                </li>\r\n                <li>\r\n                  Description:\r\n                  <div>{product.description}</div>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"details-action\">\r\n              <ul>\r\n                <li>Price: {product.price}</li>\r\n                <li>\r\n                  Status:{' '}\r\n                  {product.countInStock > 0 ? 'In Stock' : 'Unavailable.'}\r\n                </li>\r\n                <li>\r\n                  Qty:{' '}\r\n                  <select\r\n                    value={qty}\r\n                    onChange={(e) => {\r\n                      setQty(e.target.value);\r\n                    }}\r\n                  >\r\n                    {[...Array(product.countInStock).keys()].map((x) => (\r\n                      <option key={x + 1} value={x + 1}>\r\n                        {x + 1}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </li>\r\n                <li>\r\n                  {product.countInStock > 0 && (\r\n                    <Link to={`/cart/${product._id}/${qty}`}>\r\n                    <button\r\n                      className=\"button primary\"\r\n                    >\r\n                      Add to Cart\r\n                    </button>\r\n                    </Link>\r\n                  )}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n      </div>\r\n      <div className=\"content-margined\">\r\n            <h2>Reviews</h2>\r\n            {product && product.reviews &&!product.reviews[0] && <div>There is no review</div>}\r\n            {reviewLoading&& <Loading></Loading>}\r\n            \r\n            <ul className=\"review\" id=\"reviews\">\r\n        \r\n              {product && product.reviews && product.reviews.map((review) => (\r\n                \r\n                <li key={review._id}>\r\n                  <div>{review.name}</div>\r\n                  \r\n                    <RatingProduct rating={review.rating}></RatingProduct>\r\n                  \r\n                  <div>{review.createdAt.substring(0, 10)}</div>\r\n                  <div>{review.comment}</div>\r\n                </li>\r\n                \r\n              ))}\r\n           \r\n              \r\n             \r\n              <li>\r\n                <h3>Write a customer review</h3>\r\n                {userInfo ? (\r\n                  <form onSubmit={submitHandler}>\r\n                    <ul className=\"form-container\">\r\n                      <li>\r\n                       <Box  borderColor=\"transparent\">\r\n                    <Rating\r\n                      name=\"simple-controlled\"\r\n                      value={rating}\r\n                      size=\"large\"\r\n                      onChange={(event, newValue) => {\r\n                        setRating(newValue);                       \r\n                      }}\r\n                    /></Box>\r\n                      </li>\r\n                      <li>\r\n                        <label htmlFor=\"comment\">Comment</label>\r\n                        <textarea\r\n                          name=\"comment\"\r\n                          value={comment}\r\n                          onChange={(e) => setComment(e.target.value)}\r\n                        ></textarea>\r\n                      </li>\r\n                      <li>\r\n                        <button type=\"submit\" className=\"button primary\">\r\n                          Submit\r\n                        </button>\r\n                      </li>\r\n                    </ul>\r\n                  </form>\r\n                ) : (\r\n                  <div>\r\n                    Please <Link to=\"/signin\">Sign-in</Link> to write a review.\r\n                  </div>\r\n                )}\r\n              </li>\r\n            </ul>\r\n          </div> \r\n          </div>}\r\n    </div>\r\n    \r\n  );\r\n}\r\nconst mapStateToProps=({productDetails,user,productReviewSaveReducer})=>{\r\n   return {product:productDetails.product,\r\n  productLoading:productDetails.loading,\r\n  product_fetching_error:productDetails.error,\r\n  user:user,\r\n  productReviewSave:productReviewSaveReducer\r\n}\r\n\r\n}\r\nexport default (connect(mapStateToProps,{getProductDetails,saveProductReview})(ProductScreen))","import React, { useEffect } from 'react';\r\nimport { addToCart, removeFromCart } from '../../redux/actionCreator/CartActions';\r\nimport {connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport \"./Cartscreen.css\"\r\n\r\nfunction CartScreen(props) {\r\n  const {cartItems}=props\r\n\r\n  const productId = props.match.params.id;\r\n  const qty= props.match.params.qty;\r\n  \r\n  const removeFromCartHandler = (productId) => {\r\n   props.removeFromCart(productId);\r\n  }\r\n  useEffect(() => {\r\n    if (productId) {\r\n     props.addToCart(productId, qty);\r\n    }\r\n  }, []);\r\n\r\n  const checkoutHandler = () => {    \r\n    props.history.push(\"/shipping\");\r\n    \r\n  }\r\n\r\n  return <div className=\"cart\">\r\n    <div className=\"cart-list\">\r\n      <ul className=\"cart-list-container\">\r\n        <li>\r\n          <h3>\r\n            Shopping Cart\r\n          </h3>\r\n          <div>\r\n            Price\r\n          </div>\r\n        </li>\r\n        {\r\n          cartItems.length === 0 ?\r\n            <div>\r\n              Cart is empty\r\n          </div>\r\n            :\r\n            cartItems.map(item =>\r\n              <li>\r\n                <div className=\"cart-image\">\r\n                  <img src={item.image} alt=\"product\" />\r\n                </div>\r\n                <div className=\"cart-name\">\r\n                  <div>\r\n                    <Link to={\"/product/\" + item.product}>\r\n                      {item.name}\r\n                    </Link>\r\n\r\n                  </div>\r\n                  <div>\r\n                    Qty:\r\n                  <select value={item.qty} onChange={(e) => props.addToCart(item.product, e.target.value)}>\r\n                      {[...Array(item.countInStock).keys()].map(x =>\r\n                        <option key={x + 1} value={x + 1}>{x + 1}</option>\r\n                      )}\r\n                    </select>\r\n                    <button type=\"button\" className=\"button\" onClick={() => removeFromCartHandler(item.product)} >\r\n                      Delete\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"cart-price\">\r\n                  ${item.price}\r\n                </div>\r\n              </li>\r\n            )\r\n        }\r\n      </ul>\r\n\r\n    </div>\r\n    <div className=\"cart-action\">\r\n      <h3>\r\n        Subtotal ( {cartItems.reduce((a, c) => a + parseInt(c.qty), 0)} items )\r\n        :\r\n         $ {cartItems.reduce((a, c) => a + parseInt(c.price * c.qty), 0)}\r\n      </h3>\r\n      <button onClick={checkoutHandler} className=\"button primary full-width\" disabled={cartItems.length === 0}>\r\n        Proceed to Checkout\r\n      </button>\r\n\r\n    </div>\r\n\r\n  </div>\r\n}\r\n\r\nconst mapStateToPorps=({cart})=>{\r\n  return{\r\n   cartItems:cart.cartItems,\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToPorps,{addToCart,removeFromCart})(CartScreen); ","import Axios from \"axios\";\r\nimport Cookie from \"js-cookie\";\r\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM,CART_SAVE_SHIPPING_ADDRESS,CART_SAVE_PAYMENT_METHOD } from \"../actiontypes/index\";\r\n\r\nconst addToCart = (productId, qty) => async (dispatch, getState) => {\r\n  try {\r\n    const { data } = await Axios.get(\"/api/products/\" + productId);\r\n    dispatch({\r\n      type: CART_ADD_ITEM, payload: {\r\n        product: data._id,\r\n        name: data.name,\r\n        image: data.image,\r\n        price: data.price,\r\n        countInStock: data.countInStock,\r\n        qty\r\n      }\r\n    });    \r\n    const { cart: { cartItems } } = getState();\r\n  //  Cookie.set(\"cartItems\", JSON.stringify(cartItems));    \r\n    localStorage.setItem(\"cartItems\",JSON.stringify(cartItems));    \r\n\r\n  } catch (error) {\r\n\r\n  }\r\n}\r\nconst removeFromCart = (productId) => (dispatch, getState) => {\r\n  dispatch({ type: CART_REMOVE_ITEM, payload: productId });\r\n\r\n  const { cart: { cartItems } } = getState();  \r\n  localStorage.setItem(\"cartItems\",JSON.stringify(cartItems));   \r\n}\r\n\r\n const saveShippingAddress = (data) => (dispatch) => {\r\n   console.log(data);\r\n  dispatch({ type: CART_SAVE_SHIPPING_ADDRESS, payload: data });\r\n  localStorage.setItem('shippingAddress', JSON.stringify(data));\r\n};\r\n\r\n const savePaymentMethod = (data) => (dispatch) => {\r\n  dispatch({ type: CART_SAVE_PAYMENT_METHOD, payload: data });\r\n};\r\n\r\nexport { addToCart, removeFromCart,saveShippingAddress,savePaymentMethod }","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { register } from '../../redux/actionCreator/UserActions';\r\nimport \"./signup.css\"\r\n\r\nfunction RegisterScreen(props) {\r\n    const {userInfo,loading,error}=props\r\n\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (userInfo && !loading) {\r\n      props.history.push(\"/\");\r\n    }\r\n    return () => {\r\n      //\r\n    };\r\n  }, [userInfo]);\r\n\r\n  const submitHandler = () => {\r\n  //  e.preventDefault();\r\n    console.log(props.history);\r\n   props.register(name, email, password, props.history);\r\n   props.history.push(\"/verifyEmail\")\r\n   // now display a msg for user to verify email by clicking link\r\n   //alert(\"check mail\")\r\n   //rediect to new page which will have info about furthur procedings\r\n  \r\n  }\r\n  return <div className=\"form\">\r\n    <form  >\r\n      <ul className=\"form-container\">\r\n        <li>\r\n          <h2>Create Account</h2>\r\n        </li>\r\n        <li>\r\n          {loading && <div>Loading...</div>}\r\n          {error && <div>{error}</div>}\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"name\">\r\n            Name\r\n          </label>\r\n          <input type=\"name\" name=\"name\" id=\"name\" required onChange={(e) => setName(e.target.value)}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"email\">\r\n            Email\r\n          </label>\r\n          <input type=\"email\" name=\"email\" id=\"email\" required onChange={(e) => setEmail(e.target.value)}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input type=\"password\" id=\"password\" name=\"password\" required onChange={(e) => setPassword(e.target.value)}>\r\n          </input>\r\n        </li>\r\n       \r\n        <li>\r\n          <button type=\"submit\" className=\"button-primary\" onClick={()=>{submitHandler()}}>Register</button>\r\n        </li>\r\n        <li>\r\n        <Link to=\"/signin\">   Already have an account?</Link>\r\n        <Link to=\"/resetPassword\"> Forgot Password</Link>\r\n        </li>\r\n\r\n      </ul>\r\n    </form>\r\n  </div>\r\n}\r\nconst mapStateToProps=({user})=>{\r\n    return{\r\n      loading:user.loading,\r\n      userInfo:user.userInfo,\r\n      error:user.userError_register\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{register})(RegisterScreen); ","import React, { useEffect, useState } from 'react';\r\nimport { Link,Redirect } from 'react-router-dom';\r\nimport { connect} from 'react-redux';\r\nimport { signin } from '../../redux/actionCreator/UserActions';\r\nimport \"./signin.css\"\r\n\r\nfunction SigninScreen(props) {\r\n    const {loading,userInfo,error}=props\r\n  const [data, setdata] = useState({\r\n    name:\"\",\r\n    password:\"\"\r\n  });    \r\n\r\n  const redirect = props.location.search ? props.location.search.split(\"=\")[1] : '/';\r\n  //alert(redirect)\r\n  useEffect(() => {\r\n    if (userInfo && !loading) {   \r\n      console.log(redirect);     \r\n      props.history.push(redirect);\r\n      \r\n    }    \r\n  }, [userInfo]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    props.signin(data.email,data.password);       \r\n    props.history.push(redirect);\r\n  }\r\n  return <div className=\"form\">\r\n    <form onSubmit={submitHandler} >\r\n      <ul className=\"form-container\">\r\n        <li>\r\n          <h2>Sign-In</h2>\r\n        </li> \r\n        <li>\r\n          {loading && <div>Loading...</div>}\r\n          {error && !loading &&<div>{error}</div>}\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"email\">\r\n            Email\r\n          </label>\r\n          <input type=\"email\" name=\"email\" id=\"email\" required onChange={(e) => setdata({...data,[e.target.name]:e.target.value})}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input type=\"password\" id=\"password\" required name=\"password\" onChange={(e) => setdata({...data,[e.target.name]:e.target.value})}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <button type=\"submit\" className=\"button primary\" onClick={()=>{props.signin(data.email,data.password)}}>Signin</button>\r\n        </li>\r\n        <li>\r\n        <Link to=\"/resetPassword\"> Forgot Password</Link>\r\n        </li>\r\n        <li>\r\n          New to amazona?\r\n        </li>\r\n        <li>\r\n          <Link to=\"/signup\" className=\"button secondary text-center\" >Create your amazona account</Link>\r\n          \r\n        </li>\r\n      </ul>\r\n    </form>\r\n  </div>\r\n}\r\n\r\nconst mapStateToProps=({user})=>{\r\n    return {\r\n        loading:user.loading,\r\n        userInfo:user.userInfo,\r\n        error:user.userError_signin\r\n    }\r\n}\r\nexport default connect(mapStateToProps,{signin})(SigninScreen); ","import React from 'react'\r\nimport { Route,Redirect } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute({ component: Comp, loggedIn, shipping,path,location, ...rest}){\r\n\r\n    return (\r\n      <Route\r\n        path={path}\r\n        {...rest}\r\n        render={props => {\r\n          {console.log(props)}\r\n          return localStorage.getItem(\"token\") ?<Redirect to=\"/\" /> : <Comp {...props} />;\r\n        }}                                                              \r\n      />\r\n    );\r\n  };\r\n\r\nexport default ProtectedRoute\r\n\r\n/*\r\nimport React from 'react'\r\nimport { Route,Redirect } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute({ component: Comp, loggedIn, shipping,path,location, ...rest}){\r\n\r\n //if shipping = true pass give a props to signin to redirect to shipping after login\r\nconsole.log(\"shipping is \",shipping)\r\n    return (\r\n      <Route\r\n        path={path}\r\n        {...rest}\r\n        render={props => {\r\n          {console.log(props)}\r\n          return localStorage.getItem(\"token\") ?( shipping ? <Redirect to=\"/shipping\" />:<Redirect to=\"/\" />  ): <Comp {...props} />;\r\n        }}                                                              \r\n      />\r\n    );\r\n  };\r\n\r\nexport default ProtectedRoute\r\n\r\n*/","import React from 'react';\r\nimport {  } from \"./CheckoutSteps.css\";\r\n\r\nexport default function CheckoutSteps(props) {\r\n  return (\r\n    <div className=\"row checkout-steps\">\r\n      <div className={props.step1 ? 'active' : ''}>Sign-In</div>\r\n      <div className={props.step2 ? 'active' : ''}>Shipping</div>\r\n      <div className={props.step3 ? 'active' : ''}>Payment</div>\r\n      <div className={props.step4 ? 'active' : ''}>Place Order</div>\r\n    </div>\r\n  );\r\n}","import React, { useState,useEffect } from 'react';\r\nimport { saveShippingAddress } from \"../../redux/actionCreator/CartActions\";\r\nimport CheckoutSteps from '../../components/CheckoutSteps';\r\nimport  \"./ShippingScreen.css\";\r\nimport { connect} from 'react-redux';\r\n\r\nfunction ShippingAddressScreen(props) {\r\n  \r\n    const {loading,userInfo,error,shippingAddress}=props\r\n\r\n    useEffect(() => {\r\n        if (!userInfo && !loading) {        \r\n         props.history.push(\"/signin/success?redirect=/shipping\");\r\n        }    \r\n      }, [userInfo]);\r\n\r\n      const [fullName, setFullName] = useState(shippingAddress.fullName);\r\n      const [address, setAddress] = useState(shippingAddress.address);\r\n      const [city, setCity] = useState(shippingAddress.city);\r\n      const [postalCode, setPostalCode] = useState(shippingAddress.postalCode);\r\n      const [country, setCountry] = useState(shippingAddress.country);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n     props.saveShippingAddress({ fullName, address, city, postalCode, country })    \r\n    props.history.push('/payment');\r\n  };\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2></CheckoutSteps>\r\n      <form  onSubmit={submitHandler}>\r\n      <div className=\"form\">\r\n        <div>\r\n          <h1>Shipping Address</h1>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"fullName\">Full Name</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"fullName\"\r\n            placeholder=\"Enter full name\"\r\n            value={fullName}\r\n            onChange={(e) => setFullName(e.target.value)}\r\n            required\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"address\">Address</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"address\"\r\n            placeholder=\"Enter address\"\r\n            value={address}\r\n            onChange={(e) => setAddress(e.target.value)}\r\n            required\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"city\">City</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"city\"\r\n            placeholder=\"Enter city\"\r\n            value={city}\r\n            onChange={(e) => setCity(e.target.value)}\r\n            required\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"postalCode\">Postal Code</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"postalCode\"\r\n            placeholder=\"Enter postal code\"\r\n            value={postalCode}\r\n            onChange={(e) => setPostalCode(e.target.value)}\r\n            required\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"country\">Country</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"country\"\r\n            placeholder=\"Enter country\"\r\n            value={country}\r\n            onChange={(e) => setCountry(e.target.value)}\r\n            required\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label />\r\n          <button className=\"primary\" type=\"submit\">\r\n            Continue\r\n          </button>\r\n        </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps=({user,cart})=>{\r\n    return {\r\n        loading:user.loading,\r\n        userInfo:user.userInfo,\r\n        error:user.userError_signin,\r\n        shippingAddress:cart.shippingAddress\r\n    }\r\n}\r\nexport default connect(mapStateToProps,{saveShippingAddress})(ShippingAddressScreen); ","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { savePaymentMethod } from '../../redux/actionCreator/CartActions';\r\nimport CheckoutSteps from '../../components/CheckoutSteps';\r\n function PaymentMethodScreen(props) {\r\n\r\n\r\n  const  {shippingAddress}  = props;\r\n  if (!shippingAddress) {\r\n    props.history.push('/shipping');\r\n  }\r\n  const [paymentMethod, setPaymentMethod] = useState('PayPal');\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    props.savePaymentMethod(paymentMethod)\r\n    props.history.push('/placeorder');\r\n  };\r\n  return (\r\n    <div>\r\n      <CheckoutSteps step1 step2 step3></CheckoutSteps>\r\n      <form className=\"form\" onSubmit={submitHandler}>\r\n        <div>\r\n          <h1>Payment Method</h1>\r\n        </div>\r\n        <div>\r\n          <div>\r\n            <input\r\n              type=\"radio\"\r\n              id=\"paypal\"\r\n              value=\"PayPal\"\r\n              name=\"paymentMethod\"\r\n              required\r\n              checked\r\n              onChange={(e) => setPaymentMethod(e.target.value)}\r\n            ></input>\r\n            <label htmlFor=\"paypal\">PayPal</label>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div>\r\n            <input\r\n              type=\"radio\"\r\n              id=\"stripe\"\r\n              value=\"Stripe\"\r\n              name=\"paymentMethod\"\r\n              required\r\n              onChange={(e) => setPaymentMethod(e.target.value)}\r\n            ></input>\r\n            <label htmlFor=\"stripe\">Stripe</label>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <label />\r\n          <button className=\"primary\" type=\"submit\">\r\n            Continue\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps=({user,cart})=>{\r\n  return {\r\n      loading:user.loading,\r\n      userInfo:user.userInfo,\r\n      error:user.userError_signin,\r\n      shippingAddress:cart.shippingAddress\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,{savePaymentMethod})(PaymentMethodScreen)","import React, { useEffect } from 'react';\r\nimport { createOrder } from '../../redux/actionCreator/OrderActions';\r\nimport { connect} from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport CheckoutSteps from '../../components/CheckoutSteps';\r\nimport \"./PlaceOrderScreen.css\"\r\n\r\nfunction PlaceOrderScreen(props) {\r\n  console.log(props.createOrderdata);\r\n\r\n  const {loading:creatingOrder,order,success,error }=props.createOrderdata\r\n  const { cartItems, shippingAddress, paymentMethod } = props.cart;\r\n\r\n  if (!shippingAddress.address) {\r\n    props.history.push(\"/shipping\");\r\n  } else if (!paymentMethod) {\r\n   props.history.push(\"/payment\");\r\n  }\r\n\r\n  const itemsPrice = cartItems.reduce((a, c) => a +parseInt(c.price)*parseInt(c.qty), 0);\r\n  const shippingPrice = itemsPrice > 100 ? 0 : 10;\r\n  const taxPrice = 0.15 * itemsPrice;\r\n  const totalPrice = itemsPrice + shippingPrice + taxPrice;\r\n\r\n  const placeOrderHandler = () => {\r\n    // create an order\r\n   props.createOrder({\r\n      orderItems: cartItems, shippingAddress, paymentMethod, itemsPrice, shippingPrice,\r\n      taxPrice, totalPrice\r\n    });\r\n    props.history.push(\"/order/\" + order._id);\r\n    \r\n  }\r\n\r\n  useEffect(() => {\r\n    //alert(success)\r\n    if (success) {\r\n    //  alert(success)\r\n     // props.history.push(\"/order/\" + order._id);\r\n    }\r\n  }, [success]);\r\n\r\n  const checkoutHandler = () => {\r\n    props.history.push(\"/signin?redirect=shipping\");\r\n  }\r\n\r\n  return <div>\r\n    <CheckoutSteps step1 step2 step3 step4 ></CheckoutSteps>\r\n    <div className=\"placeorder\">\r\n      <div className=\"placeorder-info\">\r\n        <div>\r\n          <h3>\r\n            Shipping\r\n          </h3>\r\n          <div>\r\n            {shippingAddress.address}, {shippingAddress.city},\r\n          {shippingAddress.postalCode}, {shippingAddress.country},\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <h3>Payment</h3>\r\n          <div>\r\n            Payment Method: {paymentMethod}\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <ul className=\"cart-list-container\">\r\n            <li>\r\n              <h3> \r\n                Shopping Cart\r\n          </h3>\r\n              <div>\r\n                Price\r\n          </div>\r\n         \r\n          \r\n            </li>\r\n            {\r\n              cartItems.length === 0 ?\r\n                <div>\r\n                  Cart is empty\r\n          </div>\r\n                :\r\n                cartItems.map(item =>\r\n                  <li>\r\n                    <div className=\"cart-image\">\r\n                      <img src={item.image} alt=\"product\" />\r\n                    </div>\r\n                    <div className=\"cart-name\">\r\n                      <div>\r\n                        <Link to={\"/product/\" + item.product}>\r\n                          {item.name}\r\n                        </Link>\r\n\r\n                      </div>\r\n                      <div>\r\n                        Qty: {item.qty}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"cart-price\">\r\n                      ${item.price}\r\n                    </div>\r\n                   \r\n                  </li>\r\n                )\r\n            }\r\n          </ul>\r\n        </div>\r\n\r\n\r\n      </div>\r\n      <div class=\"placeorder-action\">\r\n        <ul>\r\n          <li>\r\n            <button className=\"button primary full-width\" onClick={placeOrderHandler} >Place Order</button>\r\n          </li>\r\n          <li>\r\n            <h3>Order Summary</h3>\r\n          </li>\r\n          <li>\r\n            <div>Items</div>\r\n            <div>${itemsPrice}</div>\r\n          </li>\r\n          <li>\r\n            <div>Shipping</div>\r\n            <div>${shippingPrice}</div>\r\n          </li>\r\n          <li>\r\n            <div>Tax</div>\r\n            <div>${taxPrice}</div>\r\n          </li>\r\n          <li>\r\n            <div>Order Total</div>\r\n            <div>${totalPrice}</div>\r\n          </li>\r\n        </ul>\r\n\r\n\r\n\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n}\r\n\r\nconst mapStateToProps=({createOrder,cart})=>{\r\n    return {\r\n        cart:cart,\r\n        createOrderdata:createOrder\r\n    }\r\n}\r\nexport default connect(mapStateToProps,{createOrder})(PlaceOrderScreen); ","import Axios from \"axios\";\r\n\r\nimport {\r\n  ORDER_CREATE_REQUEST, ORDER_CREATE_SUCCESS, ORDER_CREATE_FAIL,\r\n  ORDER_DETAILS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_DETAILS_FAIL,\r\n  ORDER_PAY_REQUEST,ORDER_PAY_SUCCESS,ORDER_PAY_FAIL,\r\n  MY_ORDER_LIST_FAIL,MY_ORDER_LIST_REQUEST,MY_ORDER_LIST_SUCCESS,\r\n  ORDER_DELETE_SUCCESS,ORDER_DELETE_REQUEST,ORDER_DELETE_FAIL,\r\n  ORDER_LIST_SUCCESS,ORDER_LIST_REQUEST,ORDER_LIST_FAIL\r\n} from \"../actiontypes/index\";\r\n\r\nconst createOrder = (order) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_CREATE_REQUEST, payload: order });\r\n    const { user: { userInfo } } = getState();\r\n    const { data: { data: newOrder } } = await Axios.post(\"/api/order/createOrder\", order);\r\n    dispatch({ type: ORDER_CREATE_SUCCESS, payload: newOrder });\r\n\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch({ type: ORDER_CREATE_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\nconst listMyOrders = () => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: MY_ORDER_LIST_REQUEST });\r\n    const { user: { userInfo } } = getState();\r\n    const { data } = await Axios.get(\"/api/order/all/myorders\",{\r\n      headers:\r\n       {  \"x-auth-token\": localStorage.getItem(\"token\") }\r\n    });\r\n    dispatch({ type: MY_ORDER_LIST_SUCCESS, payload: data })\r\n  } catch (error) {\r\n    dispatch({ type: MY_ORDER_LIST_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\n\r\nconst detailsOrder = (orderId) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_DETAILS_REQUEST, payload: orderId });\r\n    const { user: { userInfo } } = getState();\r\n    const { data } = await Axios.get(\"/api/order/\" + orderId, {\r\n      headers:\r\n        {  \"x-auth-token\": localStorage.getItem(\"token\") }\r\n    });\r\n\r\n    dispatch({ type: ORDER_DETAILS_SUCCESS, payload: data })\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch({ type: ORDER_DETAILS_FAIL, payload:\"Order Not found\" });\r\n  }\r\n}\r\n\r\nconst payOrder = (order, paymentResult) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_PAY_REQUEST, payload: paymentResult });\r\n    const { userSignin: { userInfo } } = getState();\r\n    const { data } = await Axios.put(\"/api/orders/\" + order._id + \"/pay\", paymentResult, {\r\n      headers:\r\n      {  \"x-auth-token\": localStorage.getItem(\"token\") }\r\n    });\r\n    dispatch({ type: ORDER_PAY_SUCCESS, payload: data })\r\n  } catch (error) {\r\n    dispatch({ type: ORDER_PAY_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\n//--------------admin----------------------------------------\r\nconst listOrders = () => async (dispatch, getState) => {\r\n\r\n  try {\r\n    dispatch({ type: ORDER_LIST_REQUEST });\r\n    const { user: { userInfo } } = getState();\r\n    const { data } = await Axios.get(\"/api/order\", {\r\n      headers:\r\n      {  \"x-auth-token\": localStorage.getItem(\"token\") }\r\n    });\r\n    dispatch({ type: ORDER_LIST_SUCCESS, payload: data })\r\n  } catch (error) {\r\n    dispatch({ type: ORDER_LIST_FAIL, payload: error.message });\r\n  }\r\n\r\n}\r\nconst deleteOrder = (orderId) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: ORDER_DELETE_REQUEST, payload: orderId });\r\n    const { user: { userInfo } } = getState();\r\n    const { data } = await Axios.delete(\"/api/order/\" + orderId, {\r\n      headers:\r\n      {  \"x-auth-token\": localStorage.getItem(\"token\") }\r\n    });\r\n    dispatch({ type: ORDER_DELETE_SUCCESS, payload: data })\r\n  } catch (error) {\r\n    dispatch({ type: ORDER_DELETE_FAIL, payload: error.message });\r\n  }\r\n}\r\n\r\nexport { createOrder, detailsOrder,payOrder,listMyOrders ,listOrders,deleteOrder}; ","import React, { useState, useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport axios from 'axios';\r\nfunction PaypalButton(props) {\r\n  const [sdkReady, setSdkReady] = useState(false);\r\n\r\n  const addPaypalSdk = async () => {\r\n    const result = await axios.get(\"/api/config/paypal\");\r\n    //console.log(result);\r\n    const clientID = result.data;\r\n    const script = document.createElement('script');\r\n    script.type = 'text/javascript';\r\n    script.src = 'https://www.paypal.com/sdk/js?client-id='+clientID+\"&currency=INR\";\r\n    script.async = true;\r\n    script.onload = () => {\r\n      setSdkReady(true);\r\n    }\r\n    document.body.appendChild(script);\r\n  }\r\n\r\n  const createOrder = (data, actions) => actions.order.create({\r\n    purchase_units: [\r\n      {\r\n        amount: {\r\n          currency_code: \"INR\",\r\n           value:props.amount,\r\n        }\r\n      }\r\n    ]\r\n  });\r\n\r\n  const onApprove = (data, actions) => actions.order\r\n    .capture()\r\n    .then(details => props.onSuccess(data, details))\r\n    .catch(err => console.log(err));\r\n\r\n  useEffect(() => {\r\n    if (!window.paypal) {\r\n      addPaypalSdk();\r\n    }\r\n    return () => {\r\n      //\r\n    };\r\n  }, []);\r\n\r\n  if (!sdkReady) {\r\n    return <div>Loading...</div>\r\n  }\r\n\r\n  const Button = window.paypal.Buttons.driver('react', { React, ReactDOM });\r\n\r\n  return <Button {...props} createOrder={(data, actions) => createOrder(data, actions)}\r\n  style={{width:\"400px\"}}\r\n    onApprove={(data, actions) => onApprove(data, actions)} />\r\n}\r\n\r\nexport default PaypalButton;","import React, { useEffect } from 'react';\r\nimport { useDispatch, connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport {  detailsOrder, payOrder } from '../../redux/actionCreator/OrderActions';\r\nimport PaypalButton from '../../components/PaypalButton';\r\nimport \"./OrderScreen.css\"\r\n\r\nfunction OrderScreen(props) {\r\n\r\n  const { loading, order, error } = props.orderDetails;\r\n  console.log(order);\r\n  const { loading: loadingPay, success: successPay, error: errorPay } = props.orderPayment;\r\n\r\n \r\n  useEffect(() => { \r\n    console.log(\"in use effect\")  \r\n     if (successPay) {\r\n       props.history.push(\"/profile\");\r\n     } else {\r\n       //alert(\"in else\")\r\n       if(props.match.params.id){\r\n         props.detailsOrder(props.match.params.id);\r\n      }\r\n     }\r\n   }, [successPay]);\r\n\r\n  console.log(props.match.params.id);\r\n\r\n\r\n  if(!props.match.params.id){\r\n    alert(\"empty\");\r\n    return(\r\n        <div>\r\n            no order\r\n        </div>\r\n    )\r\n    \r\n  }\r\n  const handleSuccessPayment = (paymentResult) => {\r\n    console.log(\"CALLED\");\r\n    props.payOrder(order, paymentResult);\r\n  }\r\n\r\n  return loading ? <div>Loading ...</div> : error ? <div>{error}</div> :\r\n    <div>\r\n      <div className=\"placeorder\">\r\n        <div className=\"placeorder-info\">\r\n          <div>\r\n            <h3>\r\n              Shipping\r\n          </h3>\r\n            <div>\r\n              {order && order.shippingAddress && order.shippingAddress.address}, {order && order.shippingAddress &&order.shippingAddress.city},\r\n          {order && order.shippingAddress &&order.shippingAddress.postalCode}, {order && order.shippingAddress &&order.shippingAddress.country},\r\n          </div>\r\n            <div>\r\n              {order.isDelivered ? \"Delivered at \" + order.deliveredAt : \"Not Delivered.\"}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h3>Payment</h3>\r\n            <div>\r\n              Payment Method: {order.paymentMethod}\r\n            </div>\r\n            <div>\r\n              {order.isPaid ? \"Paid at \" + order.paidAt : \"Not Paid.\"}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <ul className=\"cart-list-container\">\r\n              <li>\r\n                <h3>\r\n                  Shopping Cart\r\n          </h3>\r\n                <div>\r\n                  Price\r\n          </div>\r\n              </li>\r\n              {\r\n                order.orderItems.length === 0 ?\r\n                  <div>\r\n                    Cart is empty\r\n          </div>\r\n                  :\r\n                  order.orderItems.map(item =>\r\n                    <li>\r\n                      <div className=\"cart-image\">\r\n                        <img src={item.image} alt=\"product\" />\r\n                      </div>\r\n                      <div className=\"cart-name\">\r\n                        <div>\r\n                          <Link to={\"/product/\" + item.product}>\r\n                            {item.name}\r\n                          </Link>\r\n\r\n                        </div>\r\n                        <div>\r\n                          Qty: {item.qty}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"cart-price\">\r\n                        ${item.price}\r\n                      </div>\r\n                    </li>\r\n                  )\r\n              }\r\n            </ul>\r\n          </div>\r\n\r\n\r\n        </div>      \r\n        <div className=\"placeorder-action\">\r\n          <ul>\r\n            <li>\r\n              <li className=\"placeorder-actions-payment\" style={{width:\"350px\"}} >\r\n              {props.loading && <div>Finishing Payment...</div>}\r\n              {!order.isPaid &&\r\n                <PaypalButton\r\n                  amount={order.totalPrice}\r\n                  onSuccess={handleSuccessPayment} />\r\n              }\r\n            </li>\r\n            </li>\r\n            <li>\r\n              <h3>Order Summary</h3>\r\n            </li>\r\n            <li>\r\n              <div>Items</div>\r\n              <div>${order.itemsPrice}</div>\r\n            </li>\r\n            <li>\r\n              <div>Shipping</div>\r\n              <div>${order.shippingPrice}</div>\r\n            </li>\r\n            <li>\r\n              <div>Tax</div>\r\n              <div>${order.taxPrice}</div>\r\n            </li>\r\n            <li>\r\n              <div>Order Total</div>\r\n              <div>${order.totalPrice}</div>\r\n            </li>\r\n          </ul>\r\n\r\n\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n}\r\nconst mapStateToProps=({orderdetails,orderPayment})=>{\r\n    return {\r\n        orderDetails:orderdetails,\r\n        orderPayment:orderPayment\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{detailsOrder,payOrder})(OrderScreen); ","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { logout, update } from '../../redux/actionCreator/UserActions';\r\nimport { listMyOrders } from '../../redux/actionCreator/OrderActions';\r\nimport { connect} from 'react-redux';\r\nimport \"./ProfielScreen.css\"\r\n\r\nfunction ProfileScreen(props) {\r\n  const [name, setName] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [email, setEmail] = useState('');\r\n\r\n\r\n\r\n  const { userInfo } = props.user;\r\n\r\n  const handleLogout = () => {\r\n    props.logout();\r\n    props.history.push(\"/signin\");\r\n  }\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n   props.update({ userId: userInfo._id, email, name, password })\r\n  }\r\n\r\n  const { loading, success, error } = props.user;  \r\n  const { loading: loadingOrders, orders, error: errorOrders } =props.myOrderList;\r\n\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      console.log(userInfo.name)\r\n      setEmail(userInfo.email);\r\n      setName(userInfo.name);\r\n      setPassword(userInfo.password);\r\n    }  \r\n props.listMyOrders();\r\n if(!userInfo){\r\n   props.history.push(\"/\")\r\n }\r\n   \r\n  }, [userInfo])\r\n\r\n  \r\n\r\n  return (<div className=\"profile\">\r\n    <div className=\"profile-info\">\r\n      <div className=\"form\">\r\n        <form onSubmit={submitHandler} >\r\n          <ul className=\"form-container\">\r\n            <li>\r\n              <h2>User Profile</h2>\r\n            </li>\r\n            <li>\r\n              {loading && <div>Loading...</div>}\r\n              {error && <div>{error}</div>}\r\n              {success && <div>Profile Saved Successfully.</div>}\r\n            </li>\r\n            <li>\r\n              <label htmlFor=\"name\">\r\n                Name\r\n          </label>\r\n              <input value={name} type=\"name\" name=\"name\" id=\"name\" onChange={(e) => setName(e.target.value)}>\r\n              </input>\r\n            </li>\r\n            <li>\r\n              <label htmlFor=\"email\">\r\n                Email\r\n          </label>\r\n              <input value={email} type=\"email\" name=\"email\" id=\"email\" onChange={(e) => setEmail(e.target.value)}>\r\n              </input>\r\n            </li>\r\n         { /*  <li>\r\n              <label htmlFor=\"password\">Password</label>\r\n              <input value={password} type=\"password\" id=\"password\" name=\"password\" onChange={(e) => setPassword(e.target.value)}>\r\n              </input>\r\n            </li> */}\r\n\r\n            <li>\r\n              <button type=\"submit\" className=\"button primary\">Update</button>\r\n            </li>\r\n            <li>\r\n\r\n              <button type=\"button\" onClick={handleLogout} className=\"button secondary full-width\">Logout</button>\r\n            </li>\r\n\r\n          </ul>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    <div className=\"profile-orders content-margined\">\r\n      {\r\n        loadingOrders ? <div>Loading...</div> :\r\n          errorOrders ? <div>{errorOrders} </div> :\r\n            <table className=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>ID</th>\r\n                  <th>DATE</th>\r\n                  <th>TOTAL</th>\r\n                  <th>PAID</th>\r\n                  <th>ACTIONS</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {orders.map(order => <tr key={order._id}>\r\n                  <td>{order._id}</td>\r\n                  <td>{order.createdAt}</td>\r\n                  <td>{order.totalPrice}</td>\r\n                  <td>{order.isPaid}</td>\r\n                  <td>\r\n                    <Link to={\"/order/\" + order._id}>DETAILS</Link>\r\n                  </td>\r\n                </tr>)}\r\n              </tbody>\r\n            </table>\r\n      }\r\n    </div>\r\n  </div>)\r\n\r\n}\r\n\r\nconst mapStateToProps=({user,createOrder,userUpdate,myOrderList})=>{\r\n    return {\r\n        user:user,\r\n        createOrderdata:createOrder,\r\n        userUpdate:userUpdate,\r\n        myOrderList:myOrderList \r\n    }\r\n} \r\nexport default connect(mapStateToProps,{listMyOrders,logout,update})(ProfileScreen);","import React from 'react'\r\nimport \"./verify.css\"\r\n\r\n\r\n\r\nfunction VerifyEmailScreen(props) {\r\n   \r\n  return   <div class=\"center_div\">\r\n  Please Check Your Mail and complete the verification procedure\r\n</div>\r\n}\r\n\r\n\r\nexport default VerifyEmailScreen\r\n","    import React ,{useState}from 'react'\r\n    import { connect } from \"react-redux\";\r\n    import Snackbar from '@material-ui/core/Snackbar';\r\n    import MuiAlert from '@material-ui/lab/Alert';\r\n    \r\nimport { Link,Redirect } from 'react-router-dom';\r\n    import {sendVerificationCode,resetPassword  } from \"../../redux/actionCreator/PasswordReset.js\";\r\n    function Alert(props) {\r\n        return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n      }\r\n    \r\n    function ForgotReset(props) {\r\n        \r\n        const [open, setOpen] = React.useState(true);\r\n\r\n        const handleClick = () => {\r\n          setOpen(true);\r\n        };\r\n      \r\n        const handleClose = (event, reason) => {\r\n          if (reason === 'clickaway') {\r\n            return;\r\n          }\r\n      \r\n          setOpen(false);\r\n        };\r\n\r\n        const [data, setdata\r\n        ] = useState({\r\n            email:null,\r\n            token:null,\r\n            password:null,\r\n          });  \r\n\r\n\r\n        return (\r\n            <div className=\"form\">\r\n                  <ul className=\"form-container\">\r\n        <li>\r\n          <h2>Reset screen</h2>\r\n        </li>       \r\n        <li>\r\n          <label htmlFor=\"email\">\r\n            Email\r\n          </label>\r\n          <input type=\"email\" name=\"email\" id=\"email\" required onChange={(e) => setdata({...data,[e.target.name]:e.target.value})}>\r\n          </input>\r\n        </li>\r\n       {!props.passwordReset.codeSent.status && !props.passwordReset.passwordresetsuccess.status &&\r\n        <li>\r\n          <button type=\"submit\" className=\"button primary\" onClick={()=>{props.sendVerificationCode(data.email)}}>Send Reset Code</button>\r\n        </li>\r\n        \r\n        }\r\n        <li>\r\n        {props.passwordReset.codesentLoading && <div>Sending Code</div>}\r\n        {props.passwordReset.codeSent.status && !props.passwordReset.codesentLoading &&<div>\r\n        \r\n        <Snackbar open={open}  onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity=\"success\">\r\n        {props.passwordReset.codeSent.msg}\r\n        </Alert>\r\n      </Snackbar>\r\n      </div>       \r\n        }\r\n        {props.passwordReset.codeSentError && !props.passwordReset.codesentLoading &&<div>\r\n       \r\n        <Snackbar open={open}  onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity=\"error\">\r\n        {props.passwordReset.codeSentError}\r\n        </Alert>\r\n      </Snackbar>\r\n\r\n        </div>}\r\n       \r\n       </li>\r\n       \r\n        <li>\r\n          <label >Token</label>\r\n          <input  id=\"token\" required name=\"token\" onChange={(e) => setdata({...data,[e.target.name]:e.target.value})}>\r\n          </input>\r\n        </li>\r\n        <li>\r\n          <label htmlFor=\"password\"> New Password</label>\r\n          <input type=\"password\" id=\"password\" required name=\"password\" onChange={(e) => setdata({...data,[e.target.name]:e.target.value})}>\r\n          </input>\r\n        </li>\r\n      {!props.passwordReset.passwordresetsuccess.status &&\r\n       <li>\r\n          <button type=\"submit\" className=\"button primary\" onClick={()=>{props.resetPassword(data.password,data.token)}}>Reset Password</button>\r\n        </li>\r\n        }\r\n        {props.passwordReset.passwordResetloading && <div>Verifying Token</div>}\r\n        {props.passwordReset.passwordresetsuccess.status  && !props.passwordReset.codesentLoading \r\n        &&data.email&&\r\n        <div>\r\n        <li>\r\n       \r\n        <Snackbar open={open}  onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity=\"success\">\r\n        {props.passwordReset.passwordresetsuccess.msg}\r\n        </Alert>\r\n      </Snackbar>\r\n        </li>\r\n        <li>\r\n        <Link to=\"/signin\" className=\"button secondary text-center\" >Log In To Your Account</Link>\r\n        </li> \r\n        </div>\r\n         }\r\n        {props.passwordReset.passwordResetError && !props.passwordReset.passwordResetloading &&\r\n        <div>\r\n        <Snackbar open={open}  onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity=\"error\">\r\n        {props.passwordReset.passwordResetError}\r\n        </Alert>\r\n      </Snackbar>\r\n       \r\n        \r\n        </div>}\r\n       \r\n       \r\n      </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const MapStateToProps=({passwordReset})=>{\r\n        return {\r\n            passwordReset:passwordReset\r\n         }\r\n        \r\n      }\r\n    \r\n    export default connect(MapStateToProps,{sendVerificationCode,resetPassword})(ForgotReset)\r\n    ","import {\r\n    SEND_PASSWORD_RESET_CODE_FAIL,\r\n    SEND_PASSWORD_RESET_CODE_REQUEST,\r\n    SEND_PASSWORD_RESET_CODE_SUCCESS,\r\n    PASSWORD_RESET_FAIL,\r\n    PASSWORD_RESET_REQUEST,\r\n    PASSWORD_RESET_SUCCESS\r\n  } from \"../actiontypes/index\";\r\n  import Axios from \"axios\"\r\n\r\nexport const sendVerificationCode = (email) => async (dispatch) => {\r\n    try {\r\n      dispatch({ type: SEND_PASSWORD_RESET_CODE_REQUEST,  });\r\n    \r\n      const { data} = await Axios.get(`/api/users/resetpassword/${email}`);\r\n      dispatch({ type: SEND_PASSWORD_RESET_CODE_SUCCESS, payload: data });\r\n  \r\n    } catch (error) {\r\n      console.log(error.response);\r\n      dispatch({ type: SEND_PASSWORD_RESET_CODE_FAIL, payload: error.response.data });\r\n    }\r\n  }\r\n\r\n  \r\nexport const resetPassword= (password,token) => async (dispatch) => {\r\n    try {\r\n      dispatch({ type: PASSWORD_RESET_REQUEST });\r\n      const { data} = await Axios.post(`/api/users/resetpassword`, {password,token});\r\n      console.log(data);\r\n      dispatch({ type: PASSWORD_RESET_SUCCESS, payload: data });\r\n  \r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch({ type: PASSWORD_RESET_FAIL, payload: error.response.data.msg });\r\n    }\r\n\r\n  }","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { saveOrder, listOrders, deleteOrder } from '../../../redux/actionCreator/OrderActions';\r\nimport \"./OrderScreen.css\"\r\nimport Loading from \"../../../components/Loading/LoadingBox\";\r\n\r\n\r\n\r\nfunction OrdersScreen(props) {\r\n \r\n  \r\n  const { loading, orders, error } = props.orderList;\r\n\r\n  \r\n  const { loading: loadingDelete, success: successDelete, error: errorDelete } = props.orderDelete;\r\n\r\n \r\n\r\n  useEffect(() => {\r\n    props.listOrders();\r\n    return () => {\r\n      //\r\n    };\r\n  }, [successDelete]);\r\n  \r\n  useEffect(() => {\r\n    if(!props.user.userInfo){\r\n      props.history.push(\"/\")\r\n    }\r\n  }, [props.user.userInfo]);\r\n\r\n  \r\n\r\n  const deleteHandler = (order) => {\r\n    props.deleteOrder(order._id);\r\n  }\r\n  return !loading && props.user.userInfo && !props.user.userInfo.isAdmin ? <div> you are not allowed to access this page</div>: \r\n    <div className=\"content content-margined\">\r\n     \r\n      <div className=\"order-header\">\r\n        <h3>Orders</h3>\r\n      </div>\r\n      { loading && <div><Loading></Loading></div> }\r\n      <div className=\"order-list\">\r\n\r\n        <table className=\"table\">\r\n        {orders && !orders[0] && <div>NO ORDERS YET</div>}\r\n          {orders && orders[0] && <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>DATE</th>\r\n              <th>TOTAL</th>\r\n              <th>USER</th>\r\n              <th>PAID</th>\r\n              <th>PAID AT</th>\r\n              <th>DELIVERED</th>\r\n              <th>DELIVERED AT</th>\r\n              <th>ACTIONS</th>\r\n            </tr>\r\n          </thead>}\r\n          <tbody>\r\n            { orders && orders.map(order => (<tr key={order._id}>\r\n              <td>{order._id}</td>\r\n              <td>{(order.createdAt).substring(0,10)}</td>\r\n              <td>{order.totalPrice}</td>\r\n              <td>{order.user.name}</td>\r\n              <td>{order.isPaid.toString()}</td>\r\n              <td>{order.paidAt}</td>\r\n              <td>{order.isDelivered.toString()}</td>\r\n              <td>{order.deliveredAt}</td>\r\n              <td>\r\n                <Link to={\"/order/\" + order._id} className=\"button secondary\" >Details</Link>\r\n                {' '}\r\n                <button type=\"button\" onClick={() => deleteHandler(order)} className=\"button secondary\">Delete</button>\r\n              </td>\r\n            </tr>))}\r\n          </tbody>\r\n        </table>\r\n\r\n      </div>\r\n    </div>\r\n}\r\nconst mapStateToProps=({user,orderList,orderDelete})=>{\r\n    return {\r\n        user:user,\r\n        orderList:orderList,\r\n        orderDelete:orderDelete\r\n\r\n    }\r\n  }\r\nexport default connect(mapStateToProps,{deleteOrder,listOrders})(OrdersScreen); ","import firebase from 'firebase/app'\r\nimport 'firebase/storage'\r\n\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyBmCkA-4PuuC0clQSoC_GC1qMEWi7abHdw\",\r\n    authDomain: \"first-project-65d14.firebaseapp.com\",\r\n    databaseURL: \"https://first-project-65d14.firebaseio.com\",\r\n    projectId: \"first-project-65d14\",\r\n    storageBucket: \"first-project-65d14.appspot.com\",\r\n    messagingSenderId: \"993800731740\",\r\n    appId: \"1:993800731740:web:a46a10248b603d7f583a99\",\r\n    measurementId: \"G-8CKJ3TGPR6\"\r\n  };\r\n  // Initialize Firebase\r\n  firebase.initializeApp(firebaseConfig);\r\n  const storage = firebase.storage();\r\n\r\n  export  {\r\n    storage, firebase as default\r\n  }","import React, { useEffect, useState } from 'react';\r\nimport {  connect } from 'react-redux';\r\n\r\nimport \"./ProductScreen.css\"\r\nimport Loading from \"../../../components/Loading/LoadingBox\";\r\nimport MessageBox from \"../../../components/ErrorBox/ErrorBox\"\r\n\r\nimport { storage } from \"../../../firebase/firebase\"\r\n\r\n\r\n\r\nimport { saveProduct,getAllProducts,deleteProdcut } from \"../../../redux/actionCreator/ProductActions\";\r\n\r\nfunction ProductsScreen(props) {\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [id, setId] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [price, setPrice] = useState('');\r\n  const [brand, setBrand] = useState('');\r\n  const [category, setCategory] = useState('');\r\n  const [countInStock, setCountInStock] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [uploading, setUploading] = useState(false);  \r\n  const [image, setImage] = useState('');\r\n  const [preview, setpreview] = useState(null);\r\n\r\n  const uploadFileHandler = (e) => {\r\n    setpreview(URL.createObjectURL(e.target.files[0]) )\r\n    const file = e.target.files[0];\r\n    const bodyFormData = new FormData();\r\n    bodyFormData.append('image', file);\r\n    setUploading(true);\r\n    /*axios\r\n      .post('/api/uploadimage', bodyFormData, {\r\n        headers: {\r\n          \"x-auth-token\": localStorage.getItem(\"token\") \r\n        },\r\n      })\r\n      .then((response) => {\r\n        setImage(response.data);\r\n        setUploading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setUploading(false);\r\n      });*/\r\n      const uploadTask = storage.ref(`/mernsocialmedia/posts/${file.name}`).put(file)\r\n        uploadTask.on('state_changed', \r\n      (snapShot) => {\r\n        //takes a snap shot of the process as it is happening\r\n       console.log(snapShot)\r\n      }, (err) => {\r\n        //catches the errors\r\n        console.log(err)\r\n      }, () => {\r\n        // gets the functions from storage refences the image storage in firebase by the children\r\n        // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n         \r\n        storage.ref('mernsocialmedia/posts').child(file.name).getDownloadURL()\r\n         .then(fireBaseUrl => {\r\n          console.log(\"url is \",fireBaseUrl); \r\n          setImage(fireBaseUrl);\r\n          setUploading(false); \r\n               })\r\n      })\r\n\r\n  };\r\n\r\n  const { loading, Allproducts:products, product_fetching_error } = props.productList;\r\n\r\n  const { loading: loadingSave, success: successSave, error: errorSave } = props.productSave;\r\n\r\n\r\n  const { loading: loadingDelete, success: successDelete, error: errorDelete } = props.productDelete;\r\n  \r\n  useEffect(() => {\r\n    if (successSave) {\r\n      setModalVisible(false);    }\r\n        props.getAllProducts()\r\n   \r\n  }, [loadingSave, loadingDelete]);\r\n\r\n  \r\n  useEffect(() => {\r\n    if(!props.user.userInfo){\r\n      props.history.push(\"/\")\r\n    }\r\n  }, [props.user.userInfo]);\r\n\r\n  const openModal = (product) => {\r\n    setModalVisible(true);\r\n    setId(product._id);\r\n    setName(product.name);\r\n    setPrice(product.price);\r\n    setImage(product.image);\r\n    setDescription(product.description);\r\n    setImage(product.image);\r\n    setBrand(product.brand);\r\n    setCategory(product.category);\r\n    setCountInStock(product.countInStock);\r\n  }\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    props.saveProduct({\r\n      _id: id,\r\n      name, price, image, brand, category,\r\n      countInStock, description\r\n    });\r\n    setModalVisible(false)\r\n  }\r\n  const deleteHandler = (product) => {\r\n  props.deleteProdcut(product._id);\r\n  setModalVisible(false)\r\n  }\r\n  return  !props.user.loading && props.user.userInfo && !props.user.userInfo.isAdmin ? <div> you are not allowed to access this page</div> : <div className=\"content content-margined\">\r\n  {loadingSave || loadingDelete  && <Loading></Loading>}\r\n    {product_fetching_error && <MessageBox msg={props.product_fetching_error} type=\"1\"></MessageBox>}\r\n    {errorSave && <MessageBox msg={props.errorSave} type=\"1\"></MessageBox>}\r\n    {errorDelete && <MessageBox msg={props.errorDelete} type=\"1\"></MessageBox>}\r\n\r\n    <div className=\"product-header\">\r\n      <h3>Products</h3>\r\n      <button className=\"button primary\" style={{width:\"180px\"}} onClick={() => openModal({})}>Create Product</button>\r\n    </div>\r\n    {modalVisible &&\r\n      <div className=\"form\">\r\n        <form onSubmit={submitHandler}  >\r\n          <ul className=\"form-container\">\r\n            <li>\r\n              <h2>Create Product</h2>\r\n            </li>\r\n            <li>\r\n              {loadingSave && <div>Loading...</div>}\r\n              {errorSave && <div>{errorSave}</div>}\r\n            </li>\r\n\r\n            <li>\r\n              <label htmlFor=\"name\">\r\n                Name\r\n          </label>\r\n              <input type=\"text\"  name=\"name\" value={name} id=\"name\" onChange={(e) => setName(e.target.value)} required>\r\n              </input>\r\n            </li>\r\n            <li>\r\n              <label htmlFor=\"price\">\r\n                Price\r\n          </label>\r\n              <input type=\"text\" name=\"price\"   type=\"number\" value={price} id=\"price\" onChange={(e) => setPrice(e.target.value)} required>\r\n              </input>\r\n            </li>\r\n            <li>\r\n            <label htmlFor=\"image\">Image</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"image\"\r\n                  value={image}\r\n                  id=\"image\"\r\n                  onChange={(e) => {\r\n                    setImage(e.target.value)\r\n                    setpreview(URL.createObjectURL(e.target.files[0]) )\r\n                  }               \r\n                  }\r\n                ></input>\r\n                <input type=\"file\" onChange={uploadFileHandler}></input>\r\n                {\r\n                preview && <img style={{width:300,height:300,padding:'0 20px'}} src={preview}/>\r\n                }\r\n                {uploading && <div>Uploading...</div>}\r\n            </li>\r\n            <li>\r\n              <label htmlFor=\"brand\">\r\n                Brand\r\n          </label>\r\n              <input type=\"text\" name=\"brand\"  value={brand} id=\"brand\" onChange={(e) => setBrand(e.target.value)} required>\r\n              </input>\r\n            </li>\r\n            <li>\r\n              <label htmlFor=\"countInStock\">\r\n                CountInStock\r\n          </label>\r\n              <input type=\"text\" name=\"countInStock\"   type=\"number\" value={countInStock} id=\"countInStock\" onChange={(e) => setCountInStock(e.target.value)} required>\r\n              </input>\r\n            </li>\r\n            <li>\r\n              <label htmlFor=\"name\">\r\n                Category\r\n          </label>\r\n              <input type=\"text\" name=\"category\"  value={category} id=\"category\" onChange={(e) => setCategory(e.target.value)} required>\r\n              </input>\r\n            </li>\r\n            <li>\r\n              <label htmlFor=\"description\">\r\n                Description\r\n          </label>\r\n              <textarea name=\"description\"   value={description} id=\"description\" onChange={(e) => setDescription(e.target.value)} ></textarea>\r\n            </li>\r\n            <li>\r\n              <button type=\"submit\" className=\"button primary\">{id ? \"Update\" : \"Create\"}</button>\r\n            </li>\r\n            <li>\r\n              <button type=\"button\" onClick={() => setModalVisible(false)} className=\"button secondary\">Back</button>\r\n            </li>\r\n          </ul>\r\n        </form>\r\n      </div>\r\n    }\r\n\r\n\r\n    <div className=\"product-list\">\r\n    {loading&& <Loading></Loading>}\r\n      {  !loading && products && !products[0] && <div>No Products</div> }\r\n      <table className=\"table\">\r\n      { !loading&& products && products[0]&& <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Name</th>\r\n            <th>Price</th>\r\n            <th>Category</th>\r\n            <th>Brand</th>\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>}\r\n        <tbody>\r\n          { !loading&& products && products.map(product => (<tr key={product._id}>\r\n            <td>{product._id}</td>\r\n            <td>{product.name}</td>\r\n            <td>{product.price}</td>\r\n            <td>{product.category}</td>\r\n            <td>{product.brand}</td>\r\n            <td>\r\n              <button className=\"button\" onClick={() => openModal(product)} >Edit</button>\r\n              {' '}\r\n              <button className=\"button\" onClick={() => deleteHandler(product)} >Delete</button>\r\n            </td>\r\n          </tr>))}\r\n        </tbody>\r\n      </table>\r\n\r\n    </div>\r\n  </div>\r\n}\r\n\r\nconst mapStateToProps=({user,productDelete,productSave,productList})=>{\r\n    return {\r\n        user:user,\r\n        productDelete:productDelete,\r\n        productSave:productSave,\r\n        productList:productList\r\n    }\r\n} \r\n\r\nexport default connect(mapStateToProps,{saveProduct,getAllProducts,deleteProdcut})(ProductsScreen);","import React,{useEffect} from 'react';\nimport \"./App.css\"\n\nimport Cookie from 'js-cookie';\nimport {connect  } from \"react-redux\";\nimport { BrowserRouter, Route,Link,withRouter,useHistory,Switch} from 'react-router-dom';\n\nimport Navbar from \"./components/Navbar/Navbar\"\n\nimport HomeScreen from './Screens/HomeScreen/HomeScreen';\nimport ProductScreen from './Screens/ProductScreen/ProductScreen';\nimport CartScreen from './Screens/Cart/cartScreen';\nimport RegisterScreen from \"./Screens/Signup/signup\"\nimport SignInScreen from \"./Screens/Signin/signin\"\nimport  ProtectedRoute from \"./PrivateRoute\";\nimport ShippingAddressScreen from './Screens/Shipping/ShippingScreen';\nimport PaymentMethodScreen from './Screens/Payment/Payment';\nimport PlaceOrderScreen from './Screens/PlaceOrderScreen/PlaceorderScreen';\nimport OrderScreen from \"./Screens/OrderScreen/OrderScreen\";\nimport ProfileScreen  from \"./Screens/ProfileScreen/ProfileScreen\";\nimport VerifyEmailScreen from \"./Screens/VerifyEmailScreen/VerifyEmailScreen\"\nimport ResetPasswordScreen from \"./Screens/ForgotPasswordScreen/ForgotReset\"\n\n//admin\nimport OrdersScreen from \"./Screens/AdminScreens/OrdersScreen/OrdersScreen\";\nimport ProductsScreen from \"./Screens/AdminScreens/ProductsScreen/ProductsScreen\";\n//material ui\n\n\nimport clsx from 'clsx';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\n\nimport Drawer from '@material-ui/core/Drawer';\n//icons\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { loadUser,logout} from \"./redux/actionCreator/UserActions\";\n\nconst  NotFound=()=>{\n  return(\n    <div>\n      Page Not Found\n    </div>\n  )\n}\nconst drawerWidth = 240;\n//cookies\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  \n   hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    justifyContent: 'flex-end',\n  },\n  \n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(0),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: 0,\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginLeft: drawerWidth,\n  },\n\n}));\nfunction App(props) {\n  let history = useHistory();\n  const userInfo=props.userInfo;\n\n  useEffect(() => {\n //props.logout();\n    props.loadUser();\n  }, [])\n\n  const classes = useStyles();\n  const theme = useTheme();\n\n  //sidebar\n   const [open, setOpen] = React.useState(false);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n  return (\n    <BrowserRouter>\n      <div className=\"grid-container\">\n      <Navbar\n       handleDrawerOpen={handleDrawerOpen} \n       handleDrawerClose={handleDrawerClose}\n       history={history}\n       open={open}\n       classes={classes}\n       ></Navbar>       \n\n        <Drawer\n        className={classes.drawer}\n        variant=\"persistent\"\n        anchor=\"left\"\n        open={open}\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n      >\n       <div className={classes.drawerHeader}>\n          <IconButton onClick={handleDrawerClose}>\n          <CloseIcon></CloseIcon>\n          </IconButton>\n        </div>\n        <Divider />\n        <ul className=\"categories\">\n            <li>\n              <Link to=\"/category/Pants\">Pants</Link>\n            </li>\n\n            <li>\n              \n              <Link to=\"/category/Shirts\">Shirts</Link>\n            </li>\n            <li>\n              \n              <Link to=\"/category/mobile\">Mobile</Link>\n            </li>\n\n          </ul>\n      </Drawer>\n        <main  className={clsx(classes.content, {\n          [classes.contentShift]: open,\n        })}>\n           <Switch>\n          <Route path=\"/cart/:id/:qty\" component={withRouter(CartScreen)}></Route>          \n          <Route exact path=\"/cart\" component={withRouter(CartScreen)}></Route>\n          <Route path=\"/product/:id\" component={withRouter(ProductScreen)}></Route>\n          <Route path=\"/category/:id\" component={HomeScreen} />\n          <Route exact path=\"/\" component={withRouter(HomeScreen)} ></Route>\n          <ProtectedRoute  path=\"/signup\" component={withRouter(RegisterScreen)} ></ProtectedRoute>\n          <ProtectedRoute path=\"/signin\" component={withRouter(SignInScreen)}  />\n          <Route path=\"/shipping\" shipping={true} component={withRouter(ShippingAddressScreen)}></Route>\n          <Route exact path=\"/payment\" component={withRouter(PaymentMethodScreen)} ></Route>\n          <Route exact path=\"/placeorder\" component={withRouter(PlaceOrderScreen)} ></Route>          \n          <Route exact path=\"/order/:id\" component={withRouter(OrderScreen)} ></Route>               \n          <Route exact path=\"/profile\" component={withRouter(ProfileScreen)} ></Route>\n          <Route exact path=\"/admin/orders\" component={withRouter(OrdersScreen)} ></Route>          \n          <Route exact path=\"/verifyEmail\" component={withRouter(VerifyEmailScreen)} ></Route>\n          <Route exact path=\"/admin/products\" component={withRouter(ProductsScreen)} ></Route>          \n          <Route exact path=\"/resetPassword\" component={withRouter(ResetPasswordScreen)} ></Route>\n          <Route  path='*' component={withRouter(NotFound)} ></Route>\n          </Switch>\n                </main>\n\n        <footer className=\"row center\">All right reserved</footer>\n      </div>\n    </BrowserRouter>\n  );\n}\nconst mapStateToProps=({user})=>{\n  return {\n      loading:user.loading,\n      userInfo:user.userInfo,\n      error:user.userError_signin\n  }\n}\n\nexport default connect(mapStateToProps,{loadUser,logout})(App);","import {GET_ALL_PRODUCTS_FAIL,GET_ALL_PRODUCTS_SUCCESS,\r\n    GET_ALL_PRODUCTS ,\r\n    PRODUCT_DETAILS_SUCCESS,PRODUCT_DETAILS_REQUEST,\r\n    PRODUCT_DETAILS_FAIL,PRODUCT_SAVE_SUCCESS,PRODUCT_SAVE_REQUEST,PRODUCT_SAVE_FAIL,PRODUCT_DELETE_SUCCESS\r\n    ,PRODUCT_DELETE_REQUEST,PRODUCT_DELETE_FAIL,\r\n    PRODUCT_REVIEW_SAVE_SUCCESS,PRODUCT_REVIEW_SAVE_RESET,PRODUCT_REVIEW_SAVE_REQUEST,PRODUCT_REVIEW_SAVE_FAIL\r\n} from \"../actiontypes/index\";\r\n\r\nconst initialstate={\r\n    Allproducts:[],\r\n    loading:true,\r\n    error_fetching_products:null\r\n}\r\n\r\nexport const  ProductListReducer=(state=initialstate,action)=>{\r\nswitch(action.type){\r\n case GET_ALL_PRODUCTS:\r\n     return{\r\n        ...state,\r\n        loading:true ,   \r\n        Allproducts:[]\r\n     }\r\n     \r\n case GET_ALL_PRODUCTS_SUCCESS:\r\n    return{\r\n        ...state,\r\n        loading:false,\r\n        Allproducts:action.payload\r\n     }\r\n \r\n case GET_ALL_PRODUCTS_FAIL:\r\n     return{\r\n        ...state,\r\n        loading:false,\r\n        error_fetching_products:action.payload\r\n     } \r\n default :\r\n return state;  \r\n}\r\n}\r\nexport const productDetailsReducer = (state = { product: {}, loading: true,error:null },  action\r\n  ) => {\r\n    switch (action.type) {\r\n      case PRODUCT_DETAILS_REQUEST:\r\n        return { loading: true };\r\n      case PRODUCT_DETAILS_SUCCESS:\r\n        return { loading: false, product: action.payload };\r\n      case PRODUCT_DETAILS_FAIL:\r\n        return { loading: false, error: action.payload };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n export const productSaveReducer=(state = { product: {},loading:false,error:null,success:null }, action)=>{\r\n\r\n    switch (action.type) {\r\n      case PRODUCT_SAVE_REQUEST:\r\n        return { ...state,loading: true };\r\n      case PRODUCT_SAVE_SUCCESS:\r\n        return { ...state,loading: false, success: true, product: action.payload };\r\n      case PRODUCT_SAVE_FAIL:\r\n        return { ...state,loading: false, error: action.payload ,success:false}\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n  \r\n  export const  productDeleteReducer=(state = { product: {},loading:false,error:null,success:null}, action)=>{\r\n    switch (action.type) {\r\n      case PRODUCT_DELETE_REQUEST:\r\n        return { ...state,loading: true };\r\n      case PRODUCT_DELETE_SUCCESS:\r\n        return {...state, loading: false, product: action.payload, success: true,error:null };\r\n      case PRODUCT_DELETE_FAIL:\r\n        return { ...state,loading: false, error: action.payload ,success: false }\r\n      default:\r\n        return state;\r\n    }\r\n  }\r\n  \r\n  export function productReviewSaveReducer(state = {loading:false,review:{},success:false,error:null}, action) {\r\n    switch (action.type) {\r\n      case PRODUCT_REVIEW_SAVE_REQUEST:\r\n        return { ...state,loading: true,error:null };\r\n      case PRODUCT_REVIEW_SAVE_SUCCESS:\r\n        return { ...state,loading: false, review: action.payload, success: true ,error:null};\r\n      case PRODUCT_REVIEW_SAVE_FAIL:\r\n        return {...state, loading: false, error: action.payload };\r\n      case PRODUCT_REVIEW_SAVE_RESET:\r\n        return {};\r\n      default:\r\n        return state;\r\n    }\r\n  }","import { CART_ADD_ITEM, CART_REMOVE_ITEM,CART_SAVE_SHIPPING_ADDRESS,CART_SAVE_PAYMENT_METHOD} from \"../actiontypes/index\";\r\n\r\n//cookies\r\nimport Cookie from 'js-cookie';\r\n\r\n\r\nconst initialstate = { \r\n  cartItems:JSON.parse(localStorage.getItem('cartItems')) || [],\r\n  shippingAddress: JSON.parse(localStorage.getItem('shippingAddress')) || {} ,\r\n  paymentMethod: 'PayPal'\r\n}\r\n\r\nexport const cartReducer=(state = initialstate,action)=> {\r\n  switch (action.type) {\r\n    case CART_ADD_ITEM:\r\n      const item = action.payload;\r\n      const product = state.cartItems.find(x => x.product === item.product);\r\n      if (product) {\r\n        return {\r\n          ...state,\r\n          cartItems:\r\n            state.cartItems.map(x => x.product === product.product ? item : x)\r\n        };\r\n      }\r\n      return { ...state,cartItems: [...state.cartItems, item] };\r\n    case CART_REMOVE_ITEM:\r\n      return { ...state,cartItems: state.cartItems.filter(x => x.product !== action.payload) }\r\n      case CART_SAVE_SHIPPING_ADDRESS:\r\n        return { ...state, shippingAddress: action.payload };\r\n        case CART_SAVE_PAYMENT_METHOD:\r\n          return { ...state, paymentMethod: action.payload };\r\n    default:\r\n      return state\r\n  }\r\n\r\n}\r\n\r\n ","import { USER_SIGNIN_REQUEST,USER_UPDATE_SUCCESS,USER_UPDATE_REQUEST,USER_UPDATE_FAIL,\r\n  LOAD_USER,USER_LOGOUT,USER_SIGNIN_SUCCESS, USER_SIGNIN_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_REGISTER_FAIL } from \"../actiontypes/index\";\r\nconst initialState={\r\n    loading:true,\r\n    userInfo:{},\r\n    userError_signin:null,\r\n    userError_register:null\r\n}\r\n\r\nfunction userReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case USER_SIGNIN_REQUEST:\r\n      return {...state, loading: true };\r\n    case USER_SIGNIN_SUCCESS:\r\n      return { ...state,loading: false, userInfo: action.payload };\r\n   case LOAD_USER:\r\n        return { ...state,loading: false, userInfo: action.payload || null };\r\n    case USER_SIGNIN_FAIL:\r\n      return { ...state,loading: false, userError_signin: action.payload,userError_signin : null};\r\n    case USER_REGISTER_REQUEST:\r\n        return { ...state,loading: true };\r\n      case USER_REGISTER_SUCCESS:\r\n        return { ...state,loading: false, userInfo: action.payload };\r\n      case USER_REGISTER_FAIL:\r\n        return { ...state,loading: false, userError_register: action.payload };\r\n        case USER_LOGOUT:\r\n          return { ...state,loading: false, userInfo:{}};\r\n          case USER_UPDATE_REQUEST:\r\n      return { loading: true };\r\n    case USER_UPDATE_SUCCESS:\r\n      return { loading: false, userInfo: action.payload };\r\n    case USER_UPDATE_FAIL:\r\n      return { loading: false, error: action.payload };\r\n    default: return state;\r\n  }\r\n}\r\n\r\n\r\nexport {\r\n  userReducer\r\n} ","import {\r\n    SEND_PASSWORD_RESET_CODE_FAIL,\r\n    SEND_PASSWORD_RESET_CODE_REQUEST,\r\n    SEND_PASSWORD_RESET_CODE_SUCCESS,\r\n    PASSWORD_RESET_FAIL,\r\n    PASSWORD_RESET_REQUEST,\r\n    PASSWORD_RESET_SUCCESS\r\n  } from \"../actiontypes/index\";\r\n\r\n  const initialstate={\r\n\r\n      codeSent:{status:false,msg:null},\r\n      passwordresetsuccess:{status:false,msg:null},\r\n      \r\n      codesentLoading:false,\r\n      passwordResetloading:false,\r\n\r\n      codeSentError:null,\r\n      passwordResetError:null\r\n\r\n   }\r\n\r\n export function passwordReset(state = initialstate, action) {\r\n    switch (action.type) {\r\n      case SEND_PASSWORD_RESET_CODE_REQUEST:\r\n        return { ...state,codesentLoading: true };\r\n\r\n      case SEND_PASSWORD_RESET_CODE_SUCCESS:\r\n        return {...state, codesentLoading: false, codeSent:{status:true,msg:action.payload},codeSentError:null };\r\n     \r\n        case SEND_PASSWORD_RESET_CODE_FAIL:\r\n        return {...state, codesentLoading: false, codeSentError:action.payload};\r\n       \r\n        case PASSWORD_RESET_REQUEST:\r\n        return {...state, passwordResetloading: true, };\r\n\r\n        case PASSWORD_RESET_SUCCESS:\r\n        return {...state, passwordResetloading: false,passwordResetError:null,codeSent:{},passwordresetsuccess:{status:true,msg:action.payload}};\r\n        case PASSWORD_RESET_FAIL:\r\n        return {...state, passwordResetloading: false, passwordResetError: action.payload ,};\r\n      default: return state;\r\n    }\r\n  }","import { combineReducers } from 'redux';\r\nimport{ ProductListReducer,productDetailsReducer,productSaveReducer,productReviewSaveReducer,productDeleteReducer }from './ProductReducer'\r\nimport {cartReducer} from \"./cartReducer\"\r\nimport {userReducer,} from \"./userReducer\"\r\nimport {passwordReset} from \"./passwordReset\"\r\nimport {orderCreateReducer,orderDetailsReducer,\r\n  orderPayReducer,myOrderListReducer,orderListReducer,orderDeleteReducer} from \"./OrderReducer\"\r\n\r\nexport default combineReducers({\r\n    productList:ProductListReducer,\r\n    productDetails:productDetailsReducer,\r\n    cart: cartReducer,\r\n    user:userReducer,    \r\n  productSave: productSaveReducer,\r\n  productDelete: productDeleteReducer,\r\n  createOrder:orderCreateReducer,\r\n  orderdetails:orderDetailsReducer,\r\n  orderPayment:orderPayReducer,\r\n  myOrderList: myOrderListReducer,\r\n  orderList: orderListReducer,\r\n  orderDelete: orderDeleteReducer,\r\n  productReviewSaveReducer:productReviewSaveReducer,\r\n  passwordReset:passwordReset\r\n\r\n});","import {\r\n    ORDER_CREATE_REQUEST, ORDER_CREATE_SUCCESS, ORDER_CREATE_FAIL,\r\n    ORDER_DETAILS_REQUEST, ORDER_DETAILS_SUCCESS, ORDER_DETAILS_FAIL,\r\n    ORDER_PAY_FAIL,ORDER_PAY_SUCCESS,ORDER_PAY_REQUEST,\r\n    MY_ORDER_LIST_SUCCESS,MY_ORDER_LIST_REQUEST,MY_ORDER_LIST_FAIL,\r\n    ORDER_LIST_FAIL,ORDER_LIST_REQUEST,ORDER_LIST_SUCCESS,\r\n    ORDER_DELETE_FAIL,ORDER_DELETE_REQUEST,ORDER_DELETE_SUCCESS\r\n  } from \"../actiontypes/index\";\r\n  \r\n  //create order  \r\n  function orderCreateReducer(state = {loading:false,order:{},success:false,error:null}, action) {\r\n    switch (action.type) {\r\n      case ORDER_CREATE_REQUEST:\r\n        return { ...state,loading: true };\r\n      case ORDER_CREATE_SUCCESS:\r\n        return {...state, loading: false, order: action.payload, success: true };\r\n      case ORDER_CREATE_FAIL:\r\n        return {...state, loading: false, error: action.payload ,success:false};\r\n      default: return state;\r\n    }\r\n  }\r\n  \r\n//payment scree shows order details\r\n  function orderDetailsReducer(state = {\r\n    loading:false,\r\n    order: {       \r\n      orderItems: [],\r\n      shipping: {},\r\n      payment: {},\r\n      \r\n    },\r\n    error:null\r\n  }, action) {\r\n    switch (action.type) {\r\n      case ORDER_DETAILS_REQUEST:\r\n        return { loading: true };\r\n      case ORDER_DETAILS_SUCCESS:\r\n        return {...state, loading: false, order: action.payload};\r\n      case ORDER_DETAILS_FAIL:\r\n        return { ...state,loading: false, error: action.payload };\r\n      default: return state;\r\n    }\r\n  }\r\n\r\n  //payment starts\r\n  function orderPayReducer(state = {\r\n    loading:false,\r\n    success:false,\r\n    order: {\r\n      orderItems: [],\r\n      shipping: {},\r\n      payment: {}\r\n    },\r\n    error:null\r\n  }, action) {\r\n    switch (action.type) {\r\n      case ORDER_PAY_REQUEST:\r\n        return { loading: true };\r\n      case ORDER_PAY_SUCCESS:\r\n        return { loading: false, success: true };\r\n      case ORDER_PAY_FAIL:\r\n        return { loading: false, error: action.payload };\r\n      default: return state;\r\n    }\r\n  }\r\n//in profile screen orders with uid\r\n  function myOrderListReducer(state = {\r\n    orders: []\r\n  }, action) {\r\n    switch (action.type) {\r\n      case MY_ORDER_LIST_REQUEST:\r\n        return { loading: true };\r\n      case MY_ORDER_LIST_SUCCESS:\r\n        return { loading: false, orders: action.payload };\r\n      case MY_ORDER_LIST_FAIL:\r\n        return { loading: false, error: action.payload };\r\n      default: return state;\r\n    }\r\n  }\r\n  //------------------------admin\r\n\r\n  //admin all existing orders\r\n  function orderListReducer(state = {\r\n    orders: []\r\n  }, action) {\r\n    switch (action.type) {\r\n      case ORDER_LIST_REQUEST:\r\n        return { loading: true };\r\n      case ORDER_LIST_SUCCESS:\r\n        return { loading: false, orders: action.payload };\r\n      case ORDER_LIST_FAIL:\r\n        return { loading: false, error: action.payload };\r\n      default: return state;\r\n    }\r\n  }\r\n  \r\n  function orderDeleteReducer(state = {\r\n    order: {\r\n      orderItems: [],\r\n      shipping: {},\r\n      payment: {}\r\n    }\r\n  }, action) {\r\n    switch (action.type) {\r\n      case ORDER_DELETE_REQUEST:\r\n        return { loading: true };\r\n      case ORDER_DELETE_SUCCESS:\r\n        return { loading: false, success: true };\r\n      case ORDER_DELETE_FAIL:\r\n        return { loading: false, error: action.payload };\r\n      default: return state;\r\n    }\r\n  }\r\n\r\n  \r\n  export { orderCreateReducer, orderDetailsReducer ,orderPayReducer,myOrderListReducer,orderListReducer,orderDeleteReducer} ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\n\n//redux\nimport reducers from './redux/reducers/rootReducer';\nimport { createStore, applyMiddleware } from 'redux';\nimport reduxThunk from 'redux-thunk';\nimport {composeWithDevTools} from \"redux-devtools-extension\"\nimport { Provider } from 'react-redux';\n\n\n\nconst store = createStore(reducers, {},composeWithDevTools(applyMiddleware(reduxThunk)));\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}